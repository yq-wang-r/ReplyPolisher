(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function dh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nd={exports:{}},ni={},od={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fo=Symbol.for("react.element"),fh=Symbol.for("react.portal"),ph=Symbol.for("react.fragment"),hh=Symbol.for("react.strict_mode"),mh=Symbol.for("react.profiler"),gh=Symbol.for("react.provider"),yh=Symbol.for("react.context"),vh=Symbol.for("react.forward_ref"),Eh=Symbol.for("react.suspense"),Sh=Symbol.for("react.memo"),Th=Symbol.for("react.lazy"),ha=Symbol.iterator;function _h(t){return t===null||typeof t!="object"?null:(t=ha&&t[ha]||t["@@iterator"],typeof t=="function"?t:null)}var rd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},id=Object.assign,sd={};function qn(t,e,n){this.props=t,this.context=e,this.refs=sd,this.updater=n||rd}qn.prototype.isReactComponent={};qn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ld(){}ld.prototype=qn.prototype;function ul(t,e,n){this.props=t,this.context=e,this.refs=sd,this.updater=n||rd}var cl=ul.prototype=new ld;cl.constructor=ul;id(cl,qn.prototype);cl.isPureReactComponent=!0;var ma=Array.isArray,ad=Object.prototype.hasOwnProperty,dl={current:null},ud={key:!0,ref:!0,__self:!0,__source:!0};function cd(t,e,n){var o,r={},i=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)ad.call(e,o)&&!ud.hasOwnProperty(o)&&(r[o]=e[o]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(o in u=t.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Fo,type:t,key:i,ref:l,props:r,_owner:dl.current}}function Ch(t,e){return{$$typeof:Fo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fo}function Ih(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ga=/\/+/g;function wi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ih(""+t.key):e.toString(36)}function dr(t,e,n,o,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Fo:case fh:l=!0}}if(l)return l=t,r=r(l),t=o===""?"."+wi(l,0):o,ma(r)?(n="",t!=null&&(n=t.replace(ga,"$&/")+"/"),dr(r,e,n,"",function(d){return d})):r!=null&&(fl(r)&&(r=Ch(r,n+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(ga,"$&/")+"/")+t)),e.push(r)),1;if(l=0,o=o===""?".":o+":",ma(t))for(var u=0;u<t.length;u++){i=t[u];var c=o+wi(i,u);l+=dr(i,e,n,c,r)}else if(c=_h(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=o+wi(i,u++),l+=dr(i,e,n,c,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Oo(t,e,n){if(t==null)return t;var o=[],r=0;return dr(t,o,"","",function(i){return e.call(n,i,r++)}),o}function wh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},fr={transition:null},Ah={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:fr,ReactCurrentOwner:dl};function dd(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Oo,forEach:function(t,e,n){Oo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oo(t,function(){e++}),e},toArray:function(t){return Oo(t,function(e){return e})||[]},only:function(t){if(!fl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=qn;G.Fragment=ph;G.Profiler=mh;G.PureComponent=ul;G.StrictMode=hh;G.Suspense=Eh;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ah;G.act=dd;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var o=id({},t.props),r=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=dl.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)ad.call(e,c)&&!ud.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:Fo,type:t.type,key:r,ref:i,props:o,_owner:l}};G.createContext=function(t){return t={$$typeof:yh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gh,_context:t},t.Consumer=t};G.createElement=cd;G.createFactory=function(t){var e=cd.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:vh,render:t}};G.isValidElement=fl;G.lazy=function(t){return{$$typeof:Th,_payload:{_status:-1,_result:t},_init:wh}};G.memo=function(t,e){return{$$typeof:Sh,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=fr.transition;fr.transition={};try{t()}finally{fr.transition=e}};G.unstable_act=dd;G.useCallback=function(t,e){return Ce.current.useCallback(t,e)};G.useContext=function(t){return Ce.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};G.useEffect=function(t,e){return Ce.current.useEffect(t,e)};G.useId=function(){return Ce.current.useId()};G.useImperativeHandle=function(t,e,n){return Ce.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Ce.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Ce.current.useReducer(t,e,n)};G.useRef=function(t){return Ce.current.useRef(t)};G.useState=function(t){return Ce.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Ce.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Ce.current.useTransition()};G.version="18.3.1";od.exports=G;var O=od.exports;const Rh=dh(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nh=O,xh=Symbol.for("react.element"),Ph=Symbol.for("react.fragment"),Mh=Object.prototype.hasOwnProperty,kh=Nh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dh={key:!0,ref:!0,__self:!0,__source:!0};function fd(t,e,n){var o,r={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)Mh.call(e,o)&&!Dh.hasOwnProperty(o)&&(r[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)r[o]===void 0&&(r[o]=e[o]);return{$$typeof:xh,type:t,key:i,ref:l,props:r,_owner:kh.current}}ni.Fragment=Ph;ni.jsx=fd;ni.jsxs=fd;nd.exports=ni;var C=nd.exports,es={},pd={exports:{}},Fe={},hd={exports:{}},md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,U){var V=x.length;x.push(U);e:for(;0<V;){var j=V-1>>>1,se=x[j];if(0<r(se,U))x[j]=U,x[V]=se,V=j;else break e}}function n(x){return x.length===0?null:x[0]}function o(x){if(x.length===0)return null;var U=x[0],V=x.pop();if(V!==U){x[0]=V;e:for(var j=0,se=x.length,qo=se>>>1;j<qo;){var Ot=2*(j+1)-1,Ii=x[Ot],$t=Ot+1,zo=x[$t];if(0>r(Ii,V))$t<se&&0>r(zo,Ii)?(x[j]=zo,x[$t]=V,j=$t):(x[j]=Ii,x[Ot]=V,j=Ot);else if($t<se&&0>r(zo,V))x[j]=zo,x[$t]=V,j=$t;else break e}}return U}function r(x,U){var V=x.sortIndex-U.sortIndex;return V!==0?V:x.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,h=null,p=3,m=!1,E=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(x){for(var U=n(d);U!==null;){if(U.callback===null)o(d);else if(U.startTime<=x)o(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function _(x){if(S=!1,v(x),!E)if(n(c)!==null)E=!0,St(I);else{var U=n(d);U!==null&&F(_,U.startTime-x)}}function I(x,U){E=!1,S&&(S=!1,y(R),R=-1),m=!0;var V=p;try{for(v(U),h=n(c);h!==null&&(!(h.expirationTime>U)||x&&!H());){var j=h.callback;if(typeof j=="function"){h.callback=null,p=h.priorityLevel;var se=j(h.expirationTime<=U);U=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(c)&&o(c),v(U)}else o(c);h=n(c)}if(h!==null)var qo=!0;else{var Ot=n(d);Ot!==null&&F(_,Ot.startTime-U),qo=!1}return qo}finally{h=null,p=V,m=!1}}var w=!1,A=null,R=-1,P=5,k=-1;function H(){return!(t.unstable_now()-k<P)}function ie(){if(A!==null){var x=t.unstable_now();k=x;var U=!0;try{U=A(!0,x)}finally{U?z():(w=!1,A=null)}}else w=!1}var z;if(typeof g=="function")z=function(){g(ie)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,un=pe.port2;pe.port1.onmessage=ie,z=function(){un.postMessage(null)}}else z=function(){T(ie,0)};function St(x){A=x,w||(w=!0,z())}function F(x,U){R=T(function(){x(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){E||m||(E=!0,St(I))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(x){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var V=p;p=U;try{return x()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,U){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var V=p;p=x;try{return U()}finally{p=V}},t.unstable_scheduleCallback=function(x,U,V){var j=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?j+V:j):V=j,x){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=V+se,x={id:f++,callback:U,priorityLevel:x,startTime:V,expirationTime:se,sortIndex:-1},V>j?(x.sortIndex=V,e(d,x),n(c)===null&&x===n(d)&&(S?(y(R),R=-1):S=!0,F(_,V-j))):(x.sortIndex=se,e(c,x),E||m||(E=!0,St(I))),x},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(x){var U=p;return function(){var V=p;p=U;try{return x.apply(this,arguments)}finally{p=V}}}})(md);hd.exports=md;var Lh=hd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=O,Ue=Lh;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gd=new Set,vo={};function sn(t,e){Ln(t,e),Ln(t+"Capture",e)}function Ln(t,e){for(vo[t]=e,t=0;t<e.length;t++)gd.add(e[t])}var ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ts=Object.prototype.hasOwnProperty,Fh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ya={},va={};function Vh(t){return ts.call(va,t)?!0:ts.call(ya,t)?!1:Fh.test(t)?va[t]=!0:(ya[t]=!0,!1)}function Gh(t,e,n,o){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hh(t,e,n,o){if(e===null||typeof e>"u"||Gh(t,e,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ie(t,e,n,o,r,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fe[t]=new Ie(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fe[e]=new Ie(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fe[t]=new Ie(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fe[t]=new Ie(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fe[t]=new Ie(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fe[t]=new Ie(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fe[t]=new Ie(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fe[t]=new Ie(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fe[t]=new Ie(t,5,!1,t.toLowerCase(),null,!1,!1)});var pl=/[\-:]([a-z])/g;function hl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pl,hl);fe[e]=new Ie(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pl,hl);fe[e]=new Ie(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pl,hl);fe[e]=new Ie(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fe[t]=new Ie(t,1,!1,t.toLowerCase(),null,!1,!1)});fe.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fe[t]=new Ie(t,1,!1,t.toLowerCase(),null,!0,!0)});function ml(t,e,n,o){var r=fe.hasOwnProperty(e)?fe[e]:null;(r!==null?r.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hh(e,n,r,o)&&(n=null),o||r===null?Vh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,o=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,o?t.setAttributeNS(o,e,n):t.setAttribute(e,n))))}var yt=Uh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),fn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),gl=Symbol.for("react.strict_mode"),ns=Symbol.for("react.profiler"),yd=Symbol.for("react.provider"),vd=Symbol.for("react.context"),yl=Symbol.for("react.forward_ref"),os=Symbol.for("react.suspense"),rs=Symbol.for("react.suspense_list"),vl=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Ed=Symbol.for("react.offscreen"),Ea=Symbol.iterator;function Kn(t){return t===null||typeof t!="object"?null:(t=Ea&&t[Ea]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Object.assign,Ai;function oo(t){if(Ai===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ai=e&&e[1]||""}return`
`+Ai+t}var Ri=!1;function Ni(t,e){if(!t||Ri)return"";Ri=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){o=d}t.call(e.prototype)}else{try{throw Error()}catch(d){o=d}t()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var c=`
`+r[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{Ri=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oo(t):""}function Bh(t){switch(t.tag){case 5:return oo(t.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 2:case 15:return t=Ni(t.type,!1),t;case 11:return t=Ni(t.type.render,!1),t;case 1:return t=Ni(t.type,!0),t;default:return""}}function is(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pn:return"Fragment";case fn:return"Portal";case ns:return"Profiler";case gl:return"StrictMode";case os:return"Suspense";case rs:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vd:return(t.displayName||"Context")+".Consumer";case yd:return(t._context.displayName||"Context")+".Provider";case yl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vl:return e=t.displayName||null,e!==null?e:is(t.type)||"Memo";case _t:e=t._payload,t=t._init;try{return is(t(e))}catch{}}return null}function qh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return is(e);case 8:return e===gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zh(t){var e=Sd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),o=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jo(t){t._valueTracker||(t._valueTracker=zh(t))}function Td(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),o="";return t&&(o=Sd(t)?t.checked?"true":"false":t.value),t=o,t!==n?(e.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ss(t,e){var n=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sa(t,e){var n=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;n=Vt(e.value!=null?e.value:n),t._wrapperState={initialChecked:o,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _d(t,e){e=e.checked,e!=null&&ml(t,"checked",e,!1)}function ls(t,e){_d(t,e);var n=Vt(e.value),o=e.type;if(n!=null)o==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?as(t,e.type,n):e.hasOwnProperty("defaultValue")&&as(t,e.type,Vt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ta(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function as(t,e,n){(e!=="number"||wr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ro=Array.isArray;function An(t,e,n,o){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&o&&(t[n].defaultSelected=!0)}else{for(n=""+Vt(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,o&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function us(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _a(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(ro(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vt(n)}}function Cd(t,e){var n=Vt(e.value),o=Vt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),o!=null&&(t.defaultValue=""+o)}function Ca(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Id(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cs(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Id(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wo,wd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,o,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,o,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oh=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(t){Oh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ao[e]=ao[t]})});function Ad(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ao.hasOwnProperty(t)&&ao[t]?(""+e).trim():e+"px"}function Rd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var o=n.indexOf("--")===0,r=Ad(n,e[n],o);n==="float"&&(n="cssFloat"),o?t.setProperty(n,r):t[n]=r}}var $h=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ds(t,e){if(e){if($h[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function fs(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function El(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hs=null,Rn=null,Nn=null;function Ia(t){if(t=Ho(t)){if(typeof hs!="function")throw Error(N(280));var e=t.stateNode;e&&(e=li(e),hs(t.stateNode,t.type,e))}}function Nd(t){Rn?Nn?Nn.push(t):Nn=[t]:Rn=t}function xd(){if(Rn){var t=Rn,e=Nn;if(Nn=Rn=null,Ia(t),e)for(t=0;t<e.length;t++)Ia(e[t])}}function Pd(t,e){return t(e)}function Md(){}var xi=!1;function kd(t,e,n){if(xi)return t(e,n);xi=!0;try{return Pd(t,e,n)}finally{xi=!1,(Rn!==null||Nn!==null)&&(Md(),xd())}}function So(t,e){var n=t.stateNode;if(n===null)return null;var o=li(n);if(o===null)return null;n=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var ms=!1;if(ft)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){ms=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{ms=!1}function Jh(t,e,n,o,r,i,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var uo=!1,Ar=null,Rr=!1,gs=null,Wh={onError:function(t){uo=!0,Ar=t}};function Kh(t,e,n,o,r,i,l,u,c){uo=!1,Ar=null,Jh.apply(Wh,arguments)}function Yh(t,e,n,o,r,i,l,u,c){if(Kh.apply(this,arguments),uo){if(uo){var d=Ar;uo=!1,Ar=null}else throw Error(N(198));Rr||(Rr=!0,gs=d)}}function ln(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Dd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wa(t){if(ln(t)!==t)throw Error(N(188))}function Qh(t){var e=t.alternate;if(!e){if(e=ln(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,o=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return wa(r),t;if(i===o)return wa(r),e;i=i.sibling}throw Error(N(188))}if(n.return!==o.return)n=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===n){l=!0,n=r,o=i;break}if(u===o){l=!0,o=r,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,o=r;break}if(u===o){l=!0,o=i,n=r;break}u=u.sibling}if(!l)throw Error(N(189))}}if(n.alternate!==o)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Ld(t){return t=Qh(t),t!==null?Ud(t):null}function Ud(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ud(t);if(e!==null)return e;t=t.sibling}return null}var Fd=Ue.unstable_scheduleCallback,Aa=Ue.unstable_cancelCallback,Xh=Ue.unstable_shouldYield,Zh=Ue.unstable_requestPaint,ee=Ue.unstable_now,bh=Ue.unstable_getCurrentPriorityLevel,Sl=Ue.unstable_ImmediatePriority,Vd=Ue.unstable_UserBlockingPriority,Nr=Ue.unstable_NormalPriority,jh=Ue.unstable_LowPriority,Gd=Ue.unstable_IdlePriority,oi=null,it=null;function em(t){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(oi,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:om,tm=Math.log,nm=Math.LN2;function om(t){return t>>>=0,t===0?32:31-(tm(t)/nm|0)|0}var Ko=64,Yo=4194304;function io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xr(t,e){var n=t.pendingLanes;if(n===0)return 0;var o=0,r=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~r;u!==0?o=io(u):(i&=l,i!==0&&(o=io(i)))}else l=n&~r,l!==0?o=io(l):i!==0&&(o=io(i));if(o===0)return 0;if(e!==0&&e!==o&&!(e&r)&&(r=o&-o,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(o&4&&(o|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=o;0<e;)n=31-Xe(e),r=1<<n,o|=t[n],e&=~r;return o}function rm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function im(t,e){for(var n=t.suspendedLanes,o=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Xe(i),u=1<<l,c=r[l];c===-1?(!(u&n)||u&o)&&(r[l]=rm(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function ys(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hd(){var t=Ko;return Ko<<=1,!(Ko&4194240)&&(Ko=64),t}function Pi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=n}function sm(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Xe(n),i=1<<r;e[r]=0,o[r]=-1,t[r]=-1,n&=~i}}function Tl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var o=31-Xe(n),r=1<<o;r&e|t[o]&e&&(t[o]|=e),n&=~r}}var $=0;function Bd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qd,_l,zd,Od,$d,vs=!1,Qo=[],xt=null,Pt=null,Mt=null,To=new Map,_o=new Map,It=[],lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ra(t,e){switch(t){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":To.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(e.pointerId)}}function Qn(t,e,n,o,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Ho(e),e!==null&&_l(e)),t):(t.eventSystemFlags|=o,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function am(t,e,n,o,r){switch(e){case"focusin":return xt=Qn(xt,t,e,n,o,r),!0;case"dragenter":return Pt=Qn(Pt,t,e,n,o,r),!0;case"mouseover":return Mt=Qn(Mt,t,e,n,o,r),!0;case"pointerover":var i=r.pointerId;return To.set(i,Qn(To.get(i)||null,t,e,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,_o.set(i,Qn(_o.get(i)||null,t,e,n,o,r)),!0}return!1}function Jd(t){var e=Yt(t.target);if(e!==null){var n=ln(e);if(n!==null){if(e=n.tag,e===13){if(e=Dd(n),e!==null){t.blockedOn=e,$d(t.priority,function(){zd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Es(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var o=new n.constructor(n.type,n);ps=o,n.target.dispatchEvent(o),ps=null}else return e=Ho(n),e!==null&&_l(e),t.blockedOn=n,!1;e.shift()}return!0}function Na(t,e,n){pr(t)&&n.delete(e)}function um(){vs=!1,xt!==null&&pr(xt)&&(xt=null),Pt!==null&&pr(Pt)&&(Pt=null),Mt!==null&&pr(Mt)&&(Mt=null),To.forEach(Na),_o.forEach(Na)}function Xn(t,e){t.blockedOn===e&&(t.blockedOn=null,vs||(vs=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,um)))}function Co(t){function e(r){return Xn(r,t)}if(0<Qo.length){Xn(Qo[0],t);for(var n=1;n<Qo.length;n++){var o=Qo[n];o.blockedOn===t&&(o.blockedOn=null)}}for(xt!==null&&Xn(xt,t),Pt!==null&&Xn(Pt,t),Mt!==null&&Xn(Mt,t),To.forEach(e),_o.forEach(e),n=0;n<It.length;n++)o=It[n],o.blockedOn===t&&(o.blockedOn=null);for(;0<It.length&&(n=It[0],n.blockedOn===null);)Jd(n),n.blockedOn===null&&It.shift()}var xn=yt.ReactCurrentBatchConfig,Pr=!0;function cm(t,e,n,o){var r=$,i=xn.transition;xn.transition=null;try{$=1,Cl(t,e,n,o)}finally{$=r,xn.transition=i}}function dm(t,e,n,o){var r=$,i=xn.transition;xn.transition=null;try{$=4,Cl(t,e,n,o)}finally{$=r,xn.transition=i}}function Cl(t,e,n,o){if(Pr){var r=Es(t,e,n,o);if(r===null)Bi(t,e,o,Mr,n),Ra(t,o);else if(am(r,t,e,n,o))o.stopPropagation();else if(Ra(t,o),e&4&&-1<lm.indexOf(t)){for(;r!==null;){var i=Ho(r);if(i!==null&&qd(i),i=Es(t,e,n,o),i===null&&Bi(t,e,o,Mr,n),i===r)break;r=i}r!==null&&o.stopPropagation()}else Bi(t,e,o,null,n)}}var Mr=null;function Es(t,e,n,o){if(Mr=null,t=El(o),t=Yt(t),t!==null)if(e=ln(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Dd(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mr=t,null}function Wd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bh()){case Sl:return 1;case Vd:return 4;case Nr:case jh:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var At=null,Il=null,hr=null;function Kd(){if(hr)return hr;var t,e=Il,n=e.length,o,r="value"in At?At.value:At.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(o=1;o<=l&&e[n-o]===r[i-o];o++);return hr=r.slice(t,1<o?1-o:void 0)}function mr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xo(){return!0}function xa(){return!1}function Ve(t){function e(n,o,r,i,l){this._reactName=n,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xo:xa,this.isPropagationStopped=xa,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),e}var zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wl=Ve(zn),Go=Z({},zn,{view:0,detail:0}),fm=Ve(Go),Mi,ki,Zn,ri=Z({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(Mi=t.screenX-Zn.screenX,ki=t.screenY-Zn.screenY):ki=Mi=0,Zn=t),Mi)},movementY:function(t){return"movementY"in t?t.movementY:ki}}),Pa=Ve(ri),pm=Z({},ri,{dataTransfer:0}),hm=Ve(pm),mm=Z({},Go,{relatedTarget:0}),Di=Ve(mm),gm=Z({},zn,{animationName:0,elapsedTime:0,pseudoElement:0}),ym=Ve(gm),vm=Z({},zn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Em=Ve(vm),Sm=Z({},zn,{data:0}),Ma=Ve(Sm),Tm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Im(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Cm[t])?!!e[t]:!1}function Al(){return Im}var wm=Z({},Go,{key:function(t){if(t.key){var e=Tm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_m[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(t){return t.type==="keypress"?mr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Am=Ve(wm),Rm=Z({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ka=Ve(Rm),Nm=Z({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),xm=Ve(Nm),Pm=Z({},zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mm=Ve(Pm),km=Z({},ri,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dm=Ve(km),Lm=[9,13,27,32],Rl=ft&&"CompositionEvent"in window,co=null;ft&&"documentMode"in document&&(co=document.documentMode);var Um=ft&&"TextEvent"in window&&!co,Yd=ft&&(!Rl||co&&8<co&&11>=co),Da=" ",La=!1;function Qd(t,e){switch(t){case"keyup":return Lm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hn=!1;function Fm(t,e){switch(t){case"compositionend":return Xd(e);case"keypress":return e.which!==32?null:(La=!0,Da);case"textInput":return t=e.data,t===Da&&La?null:t;default:return null}}function Vm(t,e){if(hn)return t==="compositionend"||!Rl&&Qd(t,e)?(t=Kd(),hr=Il=At=null,hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yd&&e.locale!=="ko"?null:e.data;default:return null}}var Gm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ua(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Gm[t.type]:e==="textarea"}function Zd(t,e,n,o){Nd(o),e=kr(e,"onChange"),0<e.length&&(n=new wl("onChange","change",null,n,o),t.push({event:n,listeners:e}))}var fo=null,Io=null;function Hm(t){uf(t,0)}function ii(t){var e=yn(t);if(Td(e))return t}function Bm(t,e){if(t==="change")return e}var bd=!1;if(ft){var Li;if(ft){var Ui="oninput"in document;if(!Ui){var Fa=document.createElement("div");Fa.setAttribute("oninput","return;"),Ui=typeof Fa.oninput=="function"}Li=Ui}else Li=!1;bd=Li&&(!document.documentMode||9<document.documentMode)}function Va(){fo&&(fo.detachEvent("onpropertychange",jd),Io=fo=null)}function jd(t){if(t.propertyName==="value"&&ii(Io)){var e=[];Zd(e,Io,t,El(t)),kd(Hm,e)}}function qm(t,e,n){t==="focusin"?(Va(),fo=e,Io=n,fo.attachEvent("onpropertychange",jd)):t==="focusout"&&Va()}function zm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ii(Io)}function Om(t,e){if(t==="click")return ii(e)}function $m(t,e){if(t==="input"||t==="change")return ii(e)}function Jm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:Jm;function wo(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),o=Object.keys(e);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!ts.call(e,r)||!et(t[r],e[r]))return!1}return!0}function Ga(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ha(t,e){var n=Ga(t);t=0;for(var o;n;){if(n.nodeType===3){if(o=t+n.textContent.length,t<=e&&o>=e)return{node:n,offset:e-t};t=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ga(n)}}function ef(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ef(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tf(){for(var t=window,e=wr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wr(t.document)}return e}function Nl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Wm(t){var e=tf(),n=t.focusedElem,o=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ef(n.ownerDocument.documentElement,n)){if(o!==null&&Nl(n)){if(e=o.start,t=o.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!t.extend&&i>o&&(r=o,o=i,i=r),r=Ha(n,i);var l=Ha(n,o);r&&l&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>o?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Km=ft&&"documentMode"in document&&11>=document.documentMode,mn=null,Ss=null,po=null,Ts=!1;function Ba(t,e,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ts||mn==null||mn!==wr(o)||(o=mn,"selectionStart"in o&&Nl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),po&&wo(po,o)||(po=o,o=kr(Ss,"onSelect"),0<o.length&&(e=new wl("onSelect","select",null,e,n),t.push({event:e,listeners:o}),e.target=mn)))}function Zo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gn={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},Fi={},nf={};ft&&(nf=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function si(t){if(Fi[t])return Fi[t];if(!gn[t])return t;var e=gn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nf)return Fi[t]=e[n];return t}var of=si("animationend"),rf=si("animationiteration"),sf=si("animationstart"),lf=si("transitionend"),af=new Map,qa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ht(t,e){af.set(t,e),sn(e,[t])}for(var Vi=0;Vi<qa.length;Vi++){var Gi=qa[Vi],Ym=Gi.toLowerCase(),Qm=Gi[0].toUpperCase()+Gi.slice(1);Ht(Ym,"on"+Qm)}Ht(of,"onAnimationEnd");Ht(rf,"onAnimationIteration");Ht(sf,"onAnimationStart");Ht("dblclick","onDoubleClick");Ht("focusin","onFocus");Ht("focusout","onBlur");Ht(lf,"onTransitionEnd");Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xm=new Set("cancel close invalid load scroll toggle".split(" ").concat(so));function za(t,e,n){var o=t.type||"unknown-event";t.currentTarget=n,Yh(o,e,void 0,t),t.currentTarget=null}function uf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var o=t[n],r=o.event;o=o.listeners;e:{var i=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&r.isPropagationStopped())break e;za(r,u,d),i=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&r.isPropagationStopped())break e;za(r,u,d),i=c}}}if(Rr)throw t=gs,Rr=!1,gs=null,t}function W(t,e){var n=e[As];n===void 0&&(n=e[As]=new Set);var o=t+"__bubble";n.has(o)||(cf(e,t,2,!1),n.add(o))}function Hi(t,e,n){var o=0;e&&(o|=4),cf(n,t,o,e)}var bo="_reactListening"+Math.random().toString(36).slice(2);function Ao(t){if(!t[bo]){t[bo]=!0,gd.forEach(function(n){n!=="selectionchange"&&(Xm.has(n)||Hi(n,!1,t),Hi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bo]||(e[bo]=!0,Hi("selectionchange",!1,e))}}function cf(t,e,n,o){switch(Wd(e)){case 1:var r=cm;break;case 4:r=dm;break;default:r=Cl}n=r.bind(null,e,n,t),r=void 0,!ms||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),o?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Bi(t,e,n,o,r){var i=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;l=l.return}for(;u!==null;){if(l=Yt(u),l===null)return;if(c=l.tag,c===5||c===6){o=i=l;continue e}u=u.parentNode}}o=o.return}kd(function(){var d=i,f=El(n),h=[];e:{var p=af.get(t);if(p!==void 0){var m=wl,E=t;switch(t){case"keypress":if(mr(n)===0)break e;case"keydown":case"keyup":m=Am;break;case"focusin":E="focus",m=Di;break;case"focusout":E="blur",m=Di;break;case"beforeblur":case"afterblur":m=Di;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Pa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=xm;break;case of:case rf:case sf:m=ym;break;case lf:m=Mm;break;case"scroll":m=fm;break;case"wheel":m=Dm;break;case"copy":case"cut":case"paste":m=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ka}var S=(e&4)!==0,T=!S&&t==="scroll",y=S?p!==null?p+"Capture":null:p;S=[];for(var g=d,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,y!==null&&(_=So(g,y),_!=null&&S.push(Ro(g,_,v)))),T)break;g=g.return}0<S.length&&(p=new m(p,E,null,n,f),h.push({event:p,listeners:S}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==ps&&(E=n.relatedTarget||n.fromElement)&&(Yt(E)||E[pt]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=d,E=E?Yt(E):null,E!==null&&(T=ln(E),E!==T||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=d),m!==E)){if(S=Pa,_="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(S=ka,_="onPointerLeave",y="onPointerEnter",g="pointer"),T=m==null?p:yn(m),v=E==null?p:yn(E),p=new S(_,g+"leave",m,n,f),p.target=T,p.relatedTarget=v,_=null,Yt(f)===d&&(S=new S(y,g+"enter",E,n,f),S.target=v,S.relatedTarget=T,_=S),T=_,m&&E)t:{for(S=m,y=E,g=0,v=S;v;v=cn(v))g++;for(v=0,_=y;_;_=cn(_))v++;for(;0<g-v;)S=cn(S),g--;for(;0<v-g;)y=cn(y),v--;for(;g--;){if(S===y||y!==null&&S===y.alternate)break t;S=cn(S),y=cn(y)}S=null}else S=null;m!==null&&Oa(h,p,m,S,!1),E!==null&&T!==null&&Oa(h,T,E,S,!0)}}e:{if(p=d?yn(d):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var I=Bm;else if(Ua(p))if(bd)I=$m;else{I=zm;var w=qm}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=Om);if(I&&(I=I(t,d))){Zd(h,I,n,f);break e}w&&w(t,p,d),t==="focusout"&&(w=p._wrapperState)&&w.controlled&&p.type==="number"&&as(p,"number",p.value)}switch(w=d?yn(d):window,t){case"focusin":(Ua(w)||w.contentEditable==="true")&&(mn=w,Ss=d,po=null);break;case"focusout":po=Ss=mn=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,Ba(h,n,f);break;case"selectionchange":if(Km)break;case"keydown":case"keyup":Ba(h,n,f)}var A;if(Rl)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else hn?Qd(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Yd&&n.locale!=="ko"&&(hn||R!=="onCompositionStart"?R==="onCompositionEnd"&&hn&&(A=Kd()):(At=f,Il="value"in At?At.value:At.textContent,hn=!0)),w=kr(d,R),0<w.length&&(R=new Ma(R,t,null,n,f),h.push({event:R,listeners:w}),A?R.data=A:(A=Xd(n),A!==null&&(R.data=A)))),(A=Um?Fm(t,n):Vm(t,n))&&(d=kr(d,"onBeforeInput"),0<d.length&&(f=new Ma("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:d}),f.data=A))}uf(h,e)})}function Ro(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kr(t,e){for(var n=e+"Capture",o=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=So(t,n),i!=null&&o.unshift(Ro(t,i,r)),i=So(t,e),i!=null&&o.push(Ro(t,i,r))),t=t.return}return o}function cn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Oa(t,e,n,o,r){for(var i=e._reactName,l=[];n!==null&&n!==o;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,r?(c=So(n,i),c!=null&&l.unshift(Ro(n,c,u))):r||(c=So(n,i),c!=null&&l.push(Ro(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var Zm=/\r\n?/g,bm=/\u0000|\uFFFD/g;function $a(t){return(typeof t=="string"?t:""+t).replace(Zm,`
`).replace(bm,"")}function jo(t,e,n){if(e=$a(e),$a(t)!==e&&n)throw Error(N(425))}function Dr(){}var _s=null,Cs=null;function Is(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ws=typeof setTimeout=="function"?setTimeout:void 0,jm=typeof clearTimeout=="function"?clearTimeout:void 0,Ja=typeof Promise=="function"?Promise:void 0,eg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ja<"u"?function(t){return Ja.resolve(null).then(t).catch(tg)}:ws;function tg(t){setTimeout(function(){throw t})}function qi(t,e){var n=e,o=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(o===0){t.removeChild(r),Co(e);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=r}while(n);Co(e)}function kt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wa(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var On=Math.random().toString(36).slice(2),rt="__reactFiber$"+On,No="__reactProps$"+On,pt="__reactContainer$"+On,As="__reactEvents$"+On,ng="__reactListeners$"+On,og="__reactHandles$"+On;function Yt(t){var e=t[rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pt]||n[rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wa(t);t!==null;){if(n=t[rt])return n;t=Wa(t)}return e}t=n,n=t.parentNode}return null}function Ho(t){return t=t[rt]||t[pt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function li(t){return t[No]||null}var Rs=[],vn=-1;function Bt(t){return{current:t}}function K(t){0>vn||(t.current=Rs[vn],Rs[vn]=null,vn--)}function J(t,e){vn++,Rs[vn]=t.current,t.current=e}var Gt={},ve=Bt(Gt),Ne=Bt(!1),jt=Gt;function Un(t,e){var n=t.type.contextTypes;if(!n)return Gt;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function xe(t){return t=t.childContextTypes,t!=null}function Lr(){K(Ne),K(ve)}function Ka(t,e,n){if(ve.current!==Gt)throw Error(N(168));J(ve,e),J(Ne,n)}function df(t,e,n){var o=t.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var r in o)if(!(r in e))throw Error(N(108,qh(t)||"Unknown",r));return Z({},n,o)}function Ur(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gt,jt=ve.current,J(ve,t),J(Ne,Ne.current),!0}function Ya(t,e,n){var o=t.stateNode;if(!o)throw Error(N(169));n?(t=df(t,e,jt),o.__reactInternalMemoizedMergedChildContext=t,K(Ne),K(ve),J(ve,t)):K(Ne),J(Ne,n)}var at=null,ai=!1,zi=!1;function ff(t){at===null?at=[t]:at.push(t)}function rg(t){ai=!0,ff(t)}function qt(){if(!zi&&at!==null){zi=!0;var t=0,e=$;try{var n=at;for($=1;t<n.length;t++){var o=n[t];do o=o(!0);while(o!==null)}at=null,ai=!1}catch(r){throw at!==null&&(at=at.slice(t+1)),Fd(Sl,qt),r}finally{$=e,zi=!1}}return null}var En=[],Sn=0,Fr=null,Vr=0,Ge=[],He=0,en=null,ut=1,ct="";function Jt(t,e){En[Sn++]=Vr,En[Sn++]=Fr,Fr=t,Vr=e}function pf(t,e,n){Ge[He++]=ut,Ge[He++]=ct,Ge[He++]=en,en=t;var o=ut;t=ct;var r=32-Xe(o)-1;o&=~(1<<r),n+=1;var i=32-Xe(e)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,ut=1<<32-Xe(e)+r|n<<r|o,ct=i+t}else ut=1<<i|n<<r|o,ct=t}function xl(t){t.return!==null&&(Jt(t,1),pf(t,1,0))}function Pl(t){for(;t===Fr;)Fr=En[--Sn],En[Sn]=null,Vr=En[--Sn],En[Sn]=null;for(;t===en;)en=Ge[--He],Ge[He]=null,ct=Ge[--He],Ge[He]=null,ut=Ge[--He],Ge[He]=null}var Le=null,De=null,Y=!1,Qe=null;function hf(t,e){var n=Be(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qa(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Le=t,De=kt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Le=t,De=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=en!==null?{id:ut,overflow:ct}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Be(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Le=t,De=null,!0):!1;default:return!1}}function Ns(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xs(t){if(Y){var e=De;if(e){var n=e;if(!Qa(t,e)){if(Ns(t))throw Error(N(418));e=kt(n.nextSibling);var o=Le;e&&Qa(t,e)?hf(o,n):(t.flags=t.flags&-4097|2,Y=!1,Le=t)}}else{if(Ns(t))throw Error(N(418));t.flags=t.flags&-4097|2,Y=!1,Le=t}}}function Xa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Le=t}function er(t){if(t!==Le)return!1;if(!Y)return Xa(t),Y=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Is(t.type,t.memoizedProps)),e&&(e=De)){if(Ns(t))throw mf(),Error(N(418));for(;e;)hf(t,e),e=kt(e.nextSibling)}if(Xa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){De=kt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}De=null}}else De=Le?kt(t.stateNode.nextSibling):null;return!0}function mf(){for(var t=De;t;)t=kt(t.nextSibling)}function Fn(){De=Le=null,Y=!1}function Ml(t){Qe===null?Qe=[t]:Qe.push(t)}var ig=yt.ReactCurrentBatchConfig;function bn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var o=n.stateNode}if(!o)throw Error(N(147,t));var r=o,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function tr(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Za(t){var e=t._init;return e(t._payload)}function gf(t){function e(y,g){if(t){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function o(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function r(y,g){return y=Ft(y,g),y.index=0,y.sibling=null,y}function i(y,g,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=2,g):v):(y.flags|=2,g)):(y.flags|=1048576,g)}function l(y){return t&&y.alternate===null&&(y.flags|=2),y}function u(y,g,v,_){return g===null||g.tag!==6?(g=Qi(v,y.mode,_),g.return=y,g):(g=r(g,v),g.return=y,g)}function c(y,g,v,_){var I=v.type;return I===pn?f(y,g,v.props.children,_,v.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===_t&&Za(I)===g.type)?(_=r(g,v.props),_.ref=bn(y,g,v),_.return=y,_):(_=_r(v.type,v.key,v.props,null,y.mode,_),_.ref=bn(y,g,v),_.return=y,_)}function d(y,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Xi(v,y.mode,_),g.return=y,g):(g=r(g,v.children||[]),g.return=y,g)}function f(y,g,v,_,I){return g===null||g.tag!==7?(g=bt(v,y.mode,_,I),g.return=y,g):(g=r(g,v),g.return=y,g)}function h(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Qi(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $o:return v=_r(g.type,g.key,g.props,null,y.mode,v),v.ref=bn(y,null,g),v.return=y,v;case fn:return g=Xi(g,y.mode,v),g.return=y,g;case _t:var _=g._init;return h(y,_(g._payload),v)}if(ro(g)||Kn(g))return g=bt(g,y.mode,v,null),g.return=y,g;tr(y,g)}return null}function p(y,g,v,_){var I=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return I!==null?null:u(y,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $o:return v.key===I?c(y,g,v,_):null;case fn:return v.key===I?d(y,g,v,_):null;case _t:return I=v._init,p(y,g,I(v._payload),_)}if(ro(v)||Kn(v))return I!==null?null:f(y,g,v,_,null);tr(y,v)}return null}function m(y,g,v,_,I){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(v)||null,u(g,y,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case $o:return y=y.get(_.key===null?v:_.key)||null,c(g,y,_,I);case fn:return y=y.get(_.key===null?v:_.key)||null,d(g,y,_,I);case _t:var w=_._init;return m(y,g,v,w(_._payload),I)}if(ro(_)||Kn(_))return y=y.get(v)||null,f(g,y,_,I,null);tr(g,_)}return null}function E(y,g,v,_){for(var I=null,w=null,A=g,R=g=0,P=null;A!==null&&R<v.length;R++){A.index>R?(P=A,A=null):P=A.sibling;var k=p(y,A,v[R],_);if(k===null){A===null&&(A=P);break}t&&A&&k.alternate===null&&e(y,A),g=i(k,g,R),w===null?I=k:w.sibling=k,w=k,A=P}if(R===v.length)return n(y,A),Y&&Jt(y,R),I;if(A===null){for(;R<v.length;R++)A=h(y,v[R],_),A!==null&&(g=i(A,g,R),w===null?I=A:w.sibling=A,w=A);return Y&&Jt(y,R),I}for(A=o(y,A);R<v.length;R++)P=m(A,y,R,v[R],_),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?R:P.key),g=i(P,g,R),w===null?I=P:w.sibling=P,w=P);return t&&A.forEach(function(H){return e(y,H)}),Y&&Jt(y,R),I}function S(y,g,v,_){var I=Kn(v);if(typeof I!="function")throw Error(N(150));if(v=I.call(v),v==null)throw Error(N(151));for(var w=I=null,A=g,R=g=0,P=null,k=v.next();A!==null&&!k.done;R++,k=v.next()){A.index>R?(P=A,A=null):P=A.sibling;var H=p(y,A,k.value,_);if(H===null){A===null&&(A=P);break}t&&A&&H.alternate===null&&e(y,A),g=i(H,g,R),w===null?I=H:w.sibling=H,w=H,A=P}if(k.done)return n(y,A),Y&&Jt(y,R),I;if(A===null){for(;!k.done;R++,k=v.next())k=h(y,k.value,_),k!==null&&(g=i(k,g,R),w===null?I=k:w.sibling=k,w=k);return Y&&Jt(y,R),I}for(A=o(y,A);!k.done;R++,k=v.next())k=m(A,y,R,k.value,_),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?R:k.key),g=i(k,g,R),w===null?I=k:w.sibling=k,w=k);return t&&A.forEach(function(ie){return e(y,ie)}),Y&&Jt(y,R),I}function T(y,g,v,_){if(typeof v=="object"&&v!==null&&v.type===pn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case $o:e:{for(var I=v.key,w=g;w!==null;){if(w.key===I){if(I=v.type,I===pn){if(w.tag===7){n(y,w.sibling),g=r(w,v.props.children),g.return=y,y=g;break e}}else if(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===_t&&Za(I)===w.type){n(y,w.sibling),g=r(w,v.props),g.ref=bn(y,w,v),g.return=y,y=g;break e}n(y,w);break}else e(y,w);w=w.sibling}v.type===pn?(g=bt(v.props.children,y.mode,_,v.key),g.return=y,y=g):(_=_r(v.type,v.key,v.props,null,y.mode,_),_.ref=bn(y,g,v),_.return=y,y=_)}return l(y);case fn:e:{for(w=v.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),g=r(g,v.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Xi(v,y.mode,_),g.return=y,y=g}return l(y);case _t:return w=v._init,T(y,g,w(v._payload),_)}if(ro(v))return E(y,g,v,_);if(Kn(v))return S(y,g,v,_);tr(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),g=r(g,v),g.return=y,y=g):(n(y,g),g=Qi(v,y.mode,_),g.return=y,y=g),l(y)):n(y,g)}return T}var Vn=gf(!0),yf=gf(!1),Gr=Bt(null),Hr=null,Tn=null,kl=null;function Dl(){kl=Tn=Hr=null}function Ll(t){var e=Gr.current;K(Gr),t._currentValue=e}function Ps(t,e,n){for(;t!==null;){var o=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),t===n)break;t=t.return}}function Pn(t,e){Hr=t,kl=Tn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function Oe(t){var e=t._currentValue;if(kl!==t)if(t={context:t,memoizedValue:e,next:null},Tn===null){if(Hr===null)throw Error(N(308));Tn=t,Hr.dependencies={lanes:0,firstContext:t}}else Tn=Tn.next=t;return e}var Qt=null;function Ul(t){Qt===null?Qt=[t]:Qt.push(t)}function vf(t,e,n,o){var r=e.interleaved;return r===null?(n.next=n,Ul(e)):(n.next=r.next,r.next=n),e.interleaved=n,ht(t,o)}function ht(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ct=!1;function Fl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ef(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dt(t,e,n){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,B&2){var r=o.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),o.pending=e,ht(t,n)}return r=o.interleaved,r===null?(e.next=e,Ul(o)):(e.next=r.next,r.next=e),o.interleaved=e,ht(t,n)}function gr(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Tl(t,n)}}function ba(t,e){var n=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Br(t,e,n,o){var r=t.updateQueue;Ct=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;l=0,f=d=c=null,u=i;do{var p=u.lane,m=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var E=t,S=u;switch(p=e,m=n,S.tag){case 1:if(E=S.payload,typeof E=="function"){h=E.call(m,h,p);break e}h=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=S.payload,p=typeof E=="function"?E.call(m,h,p):E,p==null)break e;h=Z({},h,p);break e;case 2:Ct=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[u]:p.push(u))}else m={eventTime:m,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=m,c=h):f=f.next=m,l|=p;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;p=u,u=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(c=h),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do l|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);nn|=l,t.lanes=l,t.memoizedState=h}}function ja(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var o=t[e],r=o.callback;if(r!==null){if(o.callback=null,o=n,typeof r!="function")throw Error(N(191,r));r.call(o)}}}var Bo={},st=Bt(Bo),xo=Bt(Bo),Po=Bt(Bo);function Xt(t){if(t===Bo)throw Error(N(174));return t}function Vl(t,e){switch(J(Po,e),J(xo,t),J(st,Bo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cs(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cs(e,t)}K(st),J(st,e)}function Gn(){K(st),K(xo),K(Po)}function Sf(t){Xt(Po.current);var e=Xt(st.current),n=cs(e,t.type);e!==n&&(J(xo,t),J(st,n))}function Gl(t){xo.current===t&&(K(st),K(xo))}var Q=Bt(0);function qr(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oi=[];function Hl(){for(var t=0;t<Oi.length;t++)Oi[t]._workInProgressVersionPrimary=null;Oi.length=0}var yr=yt.ReactCurrentDispatcher,$i=yt.ReactCurrentBatchConfig,tn=0,X=null,oe=null,le=null,zr=!1,ho=!1,Mo=0,sg=0;function he(){throw Error(N(321))}function Bl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!et(t[n],e[n]))return!1;return!0}function ql(t,e,n,o,r,i){if(tn=i,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yr.current=t===null||t.memoizedState===null?cg:dg,t=n(o,r),ho){i=0;do{if(ho=!1,Mo=0,25<=i)throw Error(N(301));i+=1,le=oe=null,e.updateQueue=null,yr.current=fg,t=n(o,r)}while(ho)}if(yr.current=Or,e=oe!==null&&oe.next!==null,tn=0,le=oe=X=null,zr=!1,e)throw Error(N(300));return t}function zl(){var t=Mo!==0;return Mo=0,t}function ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?X.memoizedState=le=t:le=le.next=t,le}function $e(){if(oe===null){var t=X.alternate;t=t!==null?t.memoizedState:null}else t=oe.next;var e=le===null?X.memoizedState:le.next;if(e!==null)le=e,oe=t;else{if(t===null)throw Error(N(310));oe=t,t={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},le===null?X.memoizedState=le=t:le=le.next=t}return le}function ko(t,e){return typeof e=="function"?e(t):e}function Ji(t){var e=$e(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var o=oe,r=o.baseQueue,i=n.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,c=null,d=i;do{var f=d.lane;if((tn&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:t(o,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=h,l=o):c=c.next=h,X.lanes|=f,nn|=f}d=d.next}while(d!==null&&d!==i);c===null?l=o:c.next=u,et(o,e.memoizedState)||(Re=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=c,n.lastRenderedState=o}if(t=n.interleaved,t!==null){r=t;do i=r.lane,X.lanes|=i,nn|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wi(t){var e=$e(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var o=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=t(i,l.action),l=l.next;while(l!==r);et(i,e.memoizedState)||(Re=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,o]}function Tf(){}function _f(t,e){var n=X,o=$e(),r=e(),i=!et(o.memoizedState,r);if(i&&(o.memoizedState=r,Re=!0),o=o.queue,Ol(wf.bind(null,n,o,t),[t]),o.getSnapshot!==e||i||le!==null&&le.memoizedState.tag&1){if(n.flags|=2048,Do(9,If.bind(null,n,o,r,e),void 0,null),ae===null)throw Error(N(349));tn&30||Cf(n,e,r)}return r}function Cf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function If(t,e,n,o){e.value=n,e.getSnapshot=o,Af(e)&&Rf(t)}function wf(t,e,n){return n(function(){Af(e)&&Rf(t)})}function Af(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!et(t,n)}catch{return!0}}function Rf(t){var e=ht(t,1);e!==null&&Ze(e,t,1,-1)}function eu(t){var e=ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:t},e.queue=t,t=t.dispatch=ug.bind(null,X,t),[e.memoizedState,t]}function Do(t,e,n,o){return t={tag:t,create:e,destroy:n,deps:o,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(o=n.next,n.next=t,t.next=o,e.lastEffect=t)),t}function Nf(){return $e().memoizedState}function vr(t,e,n,o){var r=ot();X.flags|=t,r.memoizedState=Do(1|e,n,void 0,o===void 0?null:o)}function ui(t,e,n,o){var r=$e();o=o===void 0?null:o;var i=void 0;if(oe!==null){var l=oe.memoizedState;if(i=l.destroy,o!==null&&Bl(o,l.deps)){r.memoizedState=Do(e,n,i,o);return}}X.flags|=t,r.memoizedState=Do(1|e,n,i,o)}function tu(t,e){return vr(8390656,8,t,e)}function Ol(t,e){return ui(2048,8,t,e)}function xf(t,e){return ui(4,2,t,e)}function Pf(t,e){return ui(4,4,t,e)}function Mf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kf(t,e,n){return n=n!=null?n.concat([t]):null,ui(4,4,Mf.bind(null,e,t),n)}function $l(){}function Df(t,e){var n=$e();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Bl(e,o[1])?o[0]:(n.memoizedState=[t,e],t)}function Lf(t,e){var n=$e();e=e===void 0?null:e;var o=n.memoizedState;return o!==null&&e!==null&&Bl(e,o[1])?o[0]:(t=t(),n.memoizedState=[t,e],t)}function Uf(t,e,n){return tn&21?(et(n,e)||(n=Hd(),X.lanes|=n,nn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=n)}function lg(t,e){var n=$;$=n!==0&&4>n?n:4,t(!0);var o=$i.transition;$i.transition={};try{t(!1),e()}finally{$=n,$i.transition=o}}function Ff(){return $e().memoizedState}function ag(t,e,n){var o=Ut(t);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Vf(t))Gf(e,n);else if(n=vf(t,e,n,o),n!==null){var r=Te();Ze(n,t,o,r),Hf(n,e,o)}}function ug(t,e,n){var o=Ut(t),r={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vf(t))Gf(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,n);if(r.hasEagerState=!0,r.eagerState=u,et(u,l)){var c=e.interleaved;c===null?(r.next=r,Ul(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=vf(t,e,r,o),n!==null&&(r=Te(),Ze(n,t,o,r),Hf(n,e,o))}}function Vf(t){var e=t.alternate;return t===X||e!==null&&e===X}function Gf(t,e){ho=zr=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hf(t,e,n){if(n&4194240){var o=e.lanes;o&=t.pendingLanes,n|=o,e.lanes=n,Tl(t,n)}}var Or={readContext:Oe,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},cg={readContext:Oe,useCallback:function(t,e){return ot().memoizedState=[t,e===void 0?null:e],t},useContext:Oe,useEffect:tu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vr(4194308,4,Mf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vr(4194308,4,t,e)},useInsertionEffect:function(t,e){return vr(4,2,t,e)},useMemo:function(t,e){var n=ot();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var o=ot();return e=n!==void 0?n(e):e,o.memoizedState=o.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},o.queue=t,t=t.dispatch=ag.bind(null,X,t),[o.memoizedState,t]},useRef:function(t){var e=ot();return t={current:t},e.memoizedState=t},useState:eu,useDebugValue:$l,useDeferredValue:function(t){return ot().memoizedState=t},useTransition:function(){var t=eu(!1),e=t[0];return t=lg.bind(null,t[1]),ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var o=X,r=ot();if(Y){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),ae===null)throw Error(N(349));tn&30||Cf(o,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,tu(wf.bind(null,o,i,t),[t]),o.flags|=2048,Do(9,If.bind(null,o,i,n,e),void 0,null),n},useId:function(){var t=ot(),e=ae.identifierPrefix;if(Y){var n=ct,o=ut;n=(o&~(1<<32-Xe(o)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sg++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dg={readContext:Oe,useCallback:Df,useContext:Oe,useEffect:Ol,useImperativeHandle:kf,useInsertionEffect:xf,useLayoutEffect:Pf,useMemo:Lf,useReducer:Ji,useRef:Nf,useState:function(){return Ji(ko)},useDebugValue:$l,useDeferredValue:function(t){var e=$e();return Uf(e,oe.memoizedState,t)},useTransition:function(){var t=Ji(ko)[0],e=$e().memoizedState;return[t,e]},useMutableSource:Tf,useSyncExternalStore:_f,useId:Ff,unstable_isNewReconciler:!1},fg={readContext:Oe,useCallback:Df,useContext:Oe,useEffect:Ol,useImperativeHandle:kf,useInsertionEffect:xf,useLayoutEffect:Pf,useMemo:Lf,useReducer:Wi,useRef:Nf,useState:function(){return Wi(ko)},useDebugValue:$l,useDeferredValue:function(t){var e=$e();return oe===null?e.memoizedState=t:Uf(e,oe.memoizedState,t)},useTransition:function(){var t=Wi(ko)[0],e=$e().memoizedState;return[t,e]},useMutableSource:Tf,useSyncExternalStore:_f,useId:Ff,unstable_isNewReconciler:!1};function Ke(t,e){if(t&&t.defaultProps){e=Z({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ms(t,e,n,o){e=t.memoizedState,n=n(o,e),n=n==null?e:Z({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ci={isMounted:function(t){return(t=t._reactInternals)?ln(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var o=Te(),r=Ut(t),i=dt(o,r);i.payload=e,n!=null&&(i.callback=n),e=Dt(t,i,r),e!==null&&(Ze(e,t,r,o),gr(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var o=Te(),r=Ut(t),i=dt(o,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Dt(t,i,r),e!==null&&(Ze(e,t,r,o),gr(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Te(),o=Ut(t),r=dt(n,o);r.tag=2,e!=null&&(r.callback=e),e=Dt(t,r,o),e!==null&&(Ze(e,t,o,n),gr(e,t,o))}};function nu(t,e,n,o,r,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,i,l):e.prototype&&e.prototype.isPureReactComponent?!wo(n,o)||!wo(r,i):!0}function Bf(t,e,n){var o=!1,r=Gt,i=e.contextType;return typeof i=="object"&&i!==null?i=Oe(i):(r=xe(e)?jt:ve.current,o=e.contextTypes,i=(o=o!=null)?Un(t,r):Gt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ci,t.stateNode=e,e._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function ou(t,e,n,o){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,o),e.state!==t&&ci.enqueueReplaceState(e,e.state,null)}function ks(t,e,n,o){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Fl(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Oe(i):(i=xe(e)?jt:ve.current,r.context=Un(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ms(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&ci.enqueueReplaceState(r,r.state,null),Br(t,n,r,o),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Hn(t,e){try{var n="",o=e;do n+=Bh(o),o=o.return;while(o);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Ki(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ds(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var pg=typeof WeakMap=="function"?WeakMap:Map;function qf(t,e,n){n=dt(-1,n),n.tag=3,n.payload={element:null};var o=e.value;return n.callback=function(){Jr||(Jr=!0,Os=o),Ds(t,e)},n}function zf(t,e,n){n=dt(-1,n),n.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var r=e.value;n.payload=function(){return o(r)},n.callback=function(){Ds(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ds(t,e),typeof o!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function ru(t,e,n){var o=t.pingCache;if(o===null){o=t.pingCache=new pg;var r=new Set;o.set(e,r)}else r=o.get(e),r===void 0&&(r=new Set,o.set(e,r));r.has(n)||(r.add(n),t=Rg.bind(null,t,e,n),e.then(t,t))}function iu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function su(t,e,n,o,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dt(-1,1),e.tag=2,Dt(n,e,1))),n.lanes|=1),t)}var hg=yt.ReactCurrentOwner,Re=!1;function Se(t,e,n,o){e.child=t===null?yf(e,null,n,o):Vn(e,t.child,n,o)}function lu(t,e,n,o,r){n=n.render;var i=e.ref;return Pn(e,r),o=ql(t,e,n,o,i,r),n=zl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,mt(t,e,r)):(Y&&n&&xl(e),e.flags|=1,Se(t,e,o,r),e.child)}function au(t,e,n,o,r){if(t===null){var i=n.type;return typeof i=="function"&&!bl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Of(t,e,i,o,r)):(t=_r(n.type,null,o,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:wo,n(l,o)&&t.ref===e.ref)return mt(t,e,r)}return e.flags|=1,t=Ft(i,o),t.ref=e.ref,t.return=e,e.child=t}function Of(t,e,n,o,r){if(t!==null){var i=t.memoizedProps;if(wo(i,o)&&t.ref===e.ref)if(Re=!1,e.pendingProps=o=i,(t.lanes&r)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,mt(t,e,r)}return Ls(t,e,n,o,r)}function $f(t,e,n){var o=e.pendingProps,r=o.children,i=t!==null?t.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(Cn,ke),ke|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(Cn,ke),ke|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:n,J(Cn,ke),ke|=o}else i!==null?(o=i.baseLanes|n,e.memoizedState=null):o=n,J(Cn,ke),ke|=o;return Se(t,e,r,n),e.child}function Jf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ls(t,e,n,o,r){var i=xe(n)?jt:ve.current;return i=Un(e,i),Pn(e,r),n=ql(t,e,n,o,i,r),o=zl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,mt(t,e,r)):(Y&&o&&xl(e),e.flags|=1,Se(t,e,n,r),e.child)}function uu(t,e,n,o,r){if(xe(n)){var i=!0;Ur(e)}else i=!1;if(Pn(e,r),e.stateNode===null)Er(t,e),Bf(e,n,o),ks(e,n,o,r),o=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Oe(d):(d=xe(n)?jt:ve.current,d=Un(e,d));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&ou(e,l,o,d),Ct=!1;var p=e.memoizedState;l.state=p,Br(e,o,l,r),c=e.memoizedState,u!==o||p!==c||Ne.current||Ct?(typeof f=="function"&&(Ms(e,n,f,o),c=e.memoizedState),(u=Ct||nu(e,n,u,o,p,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,Ef(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Ke(e.type,u),l.props=d,h=e.pendingProps,p=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Oe(c):(c=xe(n)?jt:ve.current,c=Un(e,c));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==h||p!==c)&&ou(e,l,o,c),Ct=!1,p=e.memoizedState,l.state=p,Br(e,o,l,r);var E=e.memoizedState;u!==h||p!==E||Ne.current||Ct?(typeof m=="function"&&(Ms(e,n,m,o),E=e.memoizedState),(d=Ct||nu(e,n,d,o,p,E,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,E,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,E,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=E),l.props=o,l.state=E,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),o=!1)}return Us(t,e,n,o,i,r)}function Us(t,e,n,o,r,i){Jf(t,e);var l=(e.flags&128)!==0;if(!o&&!l)return r&&Ya(e,n,!1),mt(t,e,i);o=e.stateNode,hg.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,t!==null&&l?(e.child=Vn(e,t.child,null,i),e.child=Vn(e,null,u,i)):Se(t,e,u,i),e.memoizedState=o.state,r&&Ya(e,n,!0),e.child}function Wf(t){var e=t.stateNode;e.pendingContext?Ka(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ka(t,e.context,!1),Vl(t,e.containerInfo)}function cu(t,e,n,o,r){return Fn(),Ml(r),e.flags|=256,Se(t,e,n,o),e.child}var Fs={dehydrated:null,treeContext:null,retryLane:0};function Vs(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kf(t,e,n){var o=e.pendingProps,r=Q.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),J(Q,r&1),t===null)return xs(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,t=o.fallback,i?(o=e.mode,i=e.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=pi(l,o,0,null),t=bt(t,o,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vs(n),e.memoizedState=Fs,t):Jl(e,l));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return mg(t,e,l,o,u,r,n);if(i){i=o.fallback,l=e.mode,r=t.child,u=r.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&e.child!==r?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=Ft(r,c),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Ft(u,i):(i=bt(i,l,n,null),i.flags|=2),i.return=e,o.return=e,o.sibling=i,e.child=o,o=i,i=e.child,l=t.child.memoizedState,l=l===null?Vs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Fs,o}return i=t.child,t=i.sibling,o=Ft(i,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=n),o.return=e,o.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=o,e.memoizedState=null,o}function Jl(t,e){return e=pi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nr(t,e,n,o){return o!==null&&Ml(o),Vn(e,t.child,null,n),t=Jl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mg(t,e,n,o,r,i,l){if(n)return e.flags&256?(e.flags&=-257,o=Ki(Error(N(422))),nr(t,e,l,o)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=o.fallback,r=e.mode,o=pi({mode:"visible",children:o.children},r,0,null),i=bt(i,r,l,null),i.flags|=2,o.return=e,i.return=e,o.sibling=i,e.child=o,e.mode&1&&Vn(e,t.child,null,l),e.child.memoizedState=Vs(l),e.memoizedState=Fs,i);if(!(e.mode&1))return nr(t,e,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(N(419)),o=Ki(i,o,void 0),nr(t,e,l,o)}if(u=(l&t.childLanes)!==0,Re||u){if(o=ae,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,ht(t,r),Ze(o,t,r,-1))}return Zl(),o=Ki(Error(N(421))),nr(t,e,l,o)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Ng.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,De=kt(r.nextSibling),Le=e,Y=!0,Qe=null,t!==null&&(Ge[He++]=ut,Ge[He++]=ct,Ge[He++]=en,ut=t.id,ct=t.overflow,en=e),e=Jl(e,o.children),e.flags|=4096,e)}function du(t,e,n){t.lanes|=e;var o=t.alternate;o!==null&&(o.lanes|=e),Ps(t.return,e,n)}function Yi(t,e,n,o,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Yf(t,e,n){var o=e.pendingProps,r=o.revealOrder,i=o.tail;if(Se(t,e,o.children,n),o=Q.current,o&2)o=o&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&du(t,n,e);else if(t.tag===19)du(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(J(Q,o),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&qr(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Yi(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&qr(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Yi(e,!0,n,null,i);break;case"together":Yi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Er(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Ft(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ft(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gg(t,e,n){switch(e.tag){case 3:Wf(e),Fn();break;case 5:Sf(e);break;case 1:xe(e.type)&&Ur(e);break;case 4:Vl(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,r=e.memoizedProps.value;J(Gr,o._currentValue),o._currentValue=r;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(J(Q,Q.current&1),e.flags|=128,null):n&e.child.childLanes?Kf(t,e,n):(J(Q,Q.current&1),t=mt(t,e,n),t!==null?t.sibling:null);J(Q,Q.current&1);break;case 19:if(o=(n&e.childLanes)!==0,t.flags&128){if(o)return Yf(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),J(Q,Q.current),o)break;return null;case 22:case 23:return e.lanes=0,$f(t,e,n)}return mt(t,e,n)}var Qf,Gs,Xf,Zf;Qf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gs=function(){};Xf=function(t,e,n,o){var r=t.memoizedProps;if(r!==o){t=e.stateNode,Xt(st.current);var i=null;switch(n){case"input":r=ss(t,r),o=ss(t,o),i=[];break;case"select":r=Z({},r,{value:void 0}),o=Z({},o,{value:void 0}),i=[];break;case"textarea":r=us(t,r),o=us(t,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Dr)}ds(n,o);var l;n=null;for(d in r)if(!o.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(vo.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in o){var c=o[d];if(u=r!=null?r[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(vo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&W("scroll",t),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Zf=function(t,e,n,o){n!==o&&(e.flags|=4)};function jn(t,e){if(!Y)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,o=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=o,t.childLanes=n,e}function yg(t,e,n){var o=e.pendingProps;switch(Pl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return xe(e.type)&&Lr(),me(e),null;case 3:return o=e.stateNode,Gn(),K(Ne),K(ve),Hl(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(er(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(Ws(Qe),Qe=null))),Gs(t,e),me(e),null;case 5:Gl(e);var r=Xt(Po.current);if(n=e.type,t!==null&&e.stateNode!=null)Xf(t,e,n,o,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(N(166));return me(e),null}if(t=Xt(st.current),er(e)){o=e.stateNode,n=e.type;var i=e.memoizedProps;switch(o[rt]=e,o[No]=i,t=(e.mode&1)!==0,n){case"dialog":W("cancel",o),W("close",o);break;case"iframe":case"object":case"embed":W("load",o);break;case"video":case"audio":for(r=0;r<so.length;r++)W(so[r],o);break;case"source":W("error",o);break;case"img":case"image":case"link":W("error",o),W("load",o);break;case"details":W("toggle",o);break;case"input":Sa(o,i),W("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},W("invalid",o);break;case"textarea":_a(o,i),W("invalid",o)}ds(n,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&jo(o.textContent,u,t),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&jo(o.textContent,u,t),r=["children",""+u]):vo.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&W("scroll",o)}switch(n){case"input":Jo(o),Ta(o,i,!0);break;case"textarea":Jo(o),Ca(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=Dr)}o=r,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Id(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=l.createElement(n,{is:o.is}):(t=l.createElement(n),n==="select"&&(l=t,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):t=l.createElementNS(t,n),t[rt]=e,t[No]=o,Qf(t,e,!1,!1),e.stateNode=t;e:{switch(l=fs(n,o),n){case"dialog":W("cancel",t),W("close",t),r=o;break;case"iframe":case"object":case"embed":W("load",t),r=o;break;case"video":case"audio":for(r=0;r<so.length;r++)W(so[r],t);r=o;break;case"source":W("error",t),r=o;break;case"img":case"image":case"link":W("error",t),W("load",t),r=o;break;case"details":W("toggle",t),r=o;break;case"input":Sa(t,o),r=ss(t,o),W("invalid",t);break;case"option":r=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},r=Z({},o,{value:void 0}),W("invalid",t);break;case"textarea":_a(t,o),r=us(t,o),W("invalid",t);break;default:r=o}ds(n,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Rd(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wd(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Eo(t,c):typeof c=="number"&&Eo(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&W("scroll",t):c!=null&&ml(t,i,c,l))}switch(n){case"input":Jo(t),Ta(t,o,!1);break;case"textarea":Jo(t),Ca(t);break;case"option":o.value!=null&&t.setAttribute("value",""+Vt(o.value));break;case"select":t.multiple=!!o.multiple,i=o.value,i!=null?An(t,!!o.multiple,i,!1):o.defaultValue!=null&&An(t,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Dr)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)Zf(t,e,t.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(N(166));if(n=Xt(Po.current),Xt(st.current),er(e)){if(o=e.stateNode,n=e.memoizedProps,o[rt]=e,(i=o.nodeValue!==n)&&(t=Le,t!==null))switch(t.tag){case 3:jo(o.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jo(o.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[rt]=e,e.stateNode=o}return me(e),null;case 13:if(K(Q),o=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Y&&De!==null&&e.mode&1&&!(e.flags&128))mf(),Fn(),e.flags|=98560,i=!1;else if(i=er(e),o!==null&&o.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[rt]=e}else Fn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),i=!1}else Qe!==null&&(Ws(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(t===null||Q.current&1?re===0&&(re=3):Zl())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return Gn(),Gs(t,e),t===null&&Ao(e.stateNode.containerInfo),me(e),null;case 10:return Ll(e.type._context),me(e),null;case 17:return xe(e.type)&&Lr(),me(e),null;case 19:if(K(Q),i=e.memoizedState,i===null)return me(e),null;if(o=(e.flags&128)!==0,l=i.rendering,l===null)if(o)jn(i,!1);else{if(re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=qr(t),l!==null){for(e.flags|=128,jn(i,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=n,n=e.child;n!==null;)i=n,t=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return J(Q,Q.current&1|2),e.child}t=t.sibling}i.tail!==null&&ee()>Bn&&(e.flags|=128,o=!0,jn(i,!1),e.lanes=4194304)}else{if(!o)if(t=qr(l),t!==null){if(e.flags|=128,o=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Y)return me(e),null}else 2*ee()-i.renderingStartTime>Bn&&n!==1073741824&&(e.flags|=128,o=!0,jn(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ee(),e.sibling=null,n=Q.current,J(Q,o?n&1|2:n&1),e):(me(e),null);case 22:case 23:return Xl(),o=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?ke&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function vg(t,e){switch(Pl(e),e.tag){case 1:return xe(e.type)&&Lr(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gn(),K(Ne),K(ve),Hl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gl(e),null;case 13:if(K(Q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Fn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(Q),null;case 4:return Gn(),null;case 10:return Ll(e.type._context),null;case 22:case 23:return Xl(),null;case 24:return null;default:return null}}var or=!1,ge=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,D=null;function _n(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){b(t,e,o)}else n.current=null}function Hs(t,e,n){try{n()}catch(o){b(t,e,o)}}var fu=!1;function Sg(t,e){if(_s=Pr,t=tf(),Nl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,d=0,f=0,h=t,p=null;t:for(;;){for(var m;h!==n||r!==0&&h.nodeType!==3||(u=l+r),h!==i||o!==0&&h.nodeType!==3||(c=l+o),h.nodeType===3&&(l+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++d===r&&(u=l),p===i&&++f===o&&(c=l),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cs={focusedElem:t,selectionRange:n},Pr=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var S=E.memoizedProps,T=E.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?S:Ke(e.type,S),T);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(_){b(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return E=fu,fu=!1,E}function mo(t,e,n){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Hs(e,n,i)}r=r.next}while(r!==o)}}function di(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var o=n.create;n.destroy=o()}n=n.next}while(n!==e)}}function Bs(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bf(t){var e=t.alternate;e!==null&&(t.alternate=null,bf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rt],delete e[No],delete e[As],delete e[ng],delete e[og])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jf(t){return t.tag===5||t.tag===3||t.tag===4}function pu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dr));else if(o!==4&&(t=t.child,t!==null))for(qs(t,e,n),t=t.sibling;t!==null;)qs(t,e,n),t=t.sibling}function zs(t,e,n){var o=t.tag;if(o===5||o===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(zs(t,e,n),t=t.sibling;t!==null;)zs(t,e,n),t=t.sibling}var ce=null,Ye=!1;function Tt(t,e,n){for(n=n.child;n!==null;)ep(t,e,n),n=n.sibling}function ep(t,e,n){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(oi,n)}catch{}switch(n.tag){case 5:ge||_n(n,e);case 6:var o=ce,r=Ye;ce=null,Tt(t,e,n),ce=o,Ye=r,ce!==null&&(Ye?(t=ce,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ce.removeChild(n.stateNode));break;case 18:ce!==null&&(Ye?(t=ce,n=n.stateNode,t.nodeType===8?qi(t.parentNode,n):t.nodeType===1&&qi(t,n),Co(t)):qi(ce,n.stateNode));break;case 4:o=ce,r=Ye,ce=n.stateNode.containerInfo,Ye=!0,Tt(t,e,n),ce=o,Ye=r;break;case 0:case 11:case 14:case 15:if(!ge&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Hs(n,e,l),r=r.next}while(r!==o)}Tt(t,e,n);break;case 1:if(!ge&&(_n(n,e),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){b(n,e,u)}Tt(t,e,n);break;case 21:Tt(t,e,n);break;case 22:n.mode&1?(ge=(o=ge)||n.memoizedState!==null,Tt(t,e,n),ge=o):Tt(t,e,n);break;default:Tt(t,e,n)}}function hu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Eg),e.forEach(function(o){var r=xg.bind(null,t,o);n.has(o)||(n.add(o),o.then(r,r))})}}function We(t,e){var n=e.deletions;if(n!==null)for(var o=0;o<n.length;o++){var r=n[o];try{var i=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:ce=u.stateNode,Ye=!1;break e;case 3:ce=u.stateNode.containerInfo,Ye=!0;break e;case 4:ce=u.stateNode.containerInfo,Ye=!0;break e}u=u.return}if(ce===null)throw Error(N(160));ep(i,l,r),ce=null,Ye=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){b(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tp(e,t),e=e.sibling}function tp(t,e){var n=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(We(e,t),nt(t),o&4){try{mo(3,t,t.return),di(3,t)}catch(S){b(t,t.return,S)}try{mo(5,t,t.return)}catch(S){b(t,t.return,S)}}break;case 1:We(e,t),nt(t),o&512&&n!==null&&_n(n,n.return);break;case 5:if(We(e,t),nt(t),o&512&&n!==null&&_n(n,n.return),t.flags&32){var r=t.stateNode;try{Eo(r,"")}catch(S){b(t,t.return,S)}}if(o&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&_d(r,i),fs(u,l);var d=fs(u,i);for(l=0;l<c.length;l+=2){var f=c[l],h=c[l+1];f==="style"?Rd(r,h):f==="dangerouslySetInnerHTML"?wd(r,h):f==="children"?Eo(r,h):ml(r,f,h,d)}switch(u){case"input":ls(r,i);break;case"textarea":Cd(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?An(r,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?An(r,!!i.multiple,i.defaultValue,!0):An(r,!!i.multiple,i.multiple?[]:"",!1))}r[No]=i}catch(S){b(t,t.return,S)}}break;case 6:if(We(e,t),nt(t),o&4){if(t.stateNode===null)throw Error(N(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(S){b(t,t.return,S)}}break;case 3:if(We(e,t),nt(t),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Co(e.containerInfo)}catch(S){b(t,t.return,S)}break;case 4:We(e,t),nt(t);break;case 13:We(e,t),nt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Yl=ee())),o&4&&hu(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ge=(d=ge)||f,We(e,t),ge=d):We(e,t),nt(t),o&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(D=t,f=t.child;f!==null;){for(h=D=f;D!==null;){switch(p=D,m=p.child,p.tag){case 0:case 11:case 14:case 15:mo(4,p,p.return);break;case 1:_n(p,p.return);var E=p.stateNode;if(typeof E.componentWillUnmount=="function"){o=p,n=p.return;try{e=o,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(S){b(o,n,S)}}break;case 5:_n(p,p.return);break;case 22:if(p.memoizedState!==null){gu(h);continue}}m!==null?(m.return=p,D=m):gu(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{r=h.stateNode,d?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Ad("display",l))}catch(S){b(t,t.return,S)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(S){b(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:We(e,t),nt(t),o&4&&hu(t);break;case 21:break;default:We(e,t),nt(t)}}function nt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jf(n)){var o=n;break e}n=n.return}throw Error(N(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Eo(r,""),o.flags&=-33);var i=pu(t);zs(t,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=pu(t);qs(t,u,l);break;default:throw Error(N(161))}}catch(c){b(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Tg(t,e,n){D=t,np(t)}function np(t,e,n){for(var o=(t.mode&1)!==0;D!==null;){var r=D,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||or;if(!l){var u=r.alternate,c=u!==null&&u.memoizedState!==null||ge;u=or;var d=ge;if(or=l,(ge=c)&&!d)for(D=r;D!==null;)l=D,c=l.child,l.tag===22&&l.memoizedState!==null?yu(r):c!==null?(c.return=l,D=c):yu(r);for(;i!==null;)D=i,np(i),i=i.sibling;D=r,or=u,ge=d}mu(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,D=i):mu(t)}}function mu(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ge||di(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!ge)if(n===null)o.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ke(e.type,n.memoizedProps);o.componentDidUpdate(r,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ja(e,i,o);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ja(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Co(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ge||e.flags&512&&Bs(e)}catch(p){b(e,e.return,p)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function gu(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function yu(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{di(4,e)}catch(c){b(e,n,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var r=e.return;try{o.componentDidMount()}catch(c){b(e,r,c)}}var i=e.return;try{Bs(e)}catch(c){b(e,i,c)}break;case 5:var l=e.return;try{Bs(e)}catch(c){b(e,l,c)}}}catch(c){b(e,e.return,c)}if(e===t){D=null;break}var u=e.sibling;if(u!==null){u.return=e.return,D=u;break}D=e.return}}var _g=Math.ceil,$r=yt.ReactCurrentDispatcher,Wl=yt.ReactCurrentOwner,qe=yt.ReactCurrentBatchConfig,B=0,ae=null,te=null,de=0,ke=0,Cn=Bt(0),re=0,Lo=null,nn=0,fi=0,Kl=0,go=null,Ae=null,Yl=0,Bn=1/0,lt=null,Jr=!1,Os=null,Lt=null,rr=!1,Rt=null,Wr=0,yo=0,$s=null,Sr=-1,Tr=0;function Te(){return B&6?ee():Sr!==-1?Sr:Sr=ee()}function Ut(t){return t.mode&1?B&2&&de!==0?de&-de:ig.transition!==null?(Tr===0&&(Tr=Hd()),Tr):(t=$,t!==0||(t=window.event,t=t===void 0?16:Wd(t.type)),t):1}function Ze(t,e,n,o){if(50<yo)throw yo=0,$s=null,Error(N(185));Vo(t,n,o),(!(B&2)||t!==ae)&&(t===ae&&(!(B&2)&&(fi|=n),re===4&&wt(t,de)),Pe(t,o),n===1&&B===0&&!(e.mode&1)&&(Bn=ee()+500,ai&&qt()))}function Pe(t,e){var n=t.callbackNode;im(t,e);var o=xr(t,t===ae?de:0);if(o===0)n!==null&&Aa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=o&-o,t.callbackPriority!==e){if(n!=null&&Aa(n),e===1)t.tag===0?rg(vu.bind(null,t)):ff(vu.bind(null,t)),eg(function(){!(B&6)&&qt()}),n=null;else{switch(Bd(o)){case 1:n=Sl;break;case 4:n=Vd;break;case 16:n=Nr;break;case 536870912:n=Gd;break;default:n=Nr}n=cp(n,op.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function op(t,e){if(Sr=-1,Tr=0,B&6)throw Error(N(327));var n=t.callbackNode;if(Mn()&&t.callbackNode!==n)return null;var o=xr(t,t===ae?de:0);if(o===0)return null;if(o&30||o&t.expiredLanes||e)e=Kr(t,o);else{e=o;var r=B;B|=2;var i=ip();(ae!==t||de!==e)&&(lt=null,Bn=ee()+500,Zt(t,e));do try{wg();break}catch(u){rp(t,u)}while(!0);Dl(),$r.current=i,B=r,te!==null?e=0:(ae=null,de=0,e=re)}if(e!==0){if(e===2&&(r=ys(t),r!==0&&(o=r,e=Js(t,r))),e===1)throw n=Lo,Zt(t,0),wt(t,o),Pe(t,ee()),n;if(e===6)wt(t,o);else{if(r=t.current.alternate,!(o&30)&&!Cg(r)&&(e=Kr(t,o),e===2&&(i=ys(t),i!==0&&(o=i,e=Js(t,i))),e===1))throw n=Lo,Zt(t,0),wt(t,o),Pe(t,ee()),n;switch(t.finishedWork=r,t.finishedLanes=o,e){case 0:case 1:throw Error(N(345));case 2:Wt(t,Ae,lt);break;case 3:if(wt(t,o),(o&130023424)===o&&(e=Yl+500-ee(),10<e)){if(xr(t,0)!==0)break;if(r=t.suspendedLanes,(r&o)!==o){Te(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ws(Wt.bind(null,t,Ae,lt),e);break}Wt(t,Ae,lt);break;case 4:if(wt(t,o),(o&4194240)===o)break;for(e=t.eventTimes,r=-1;0<o;){var l=31-Xe(o);i=1<<l,l=e[l],l>r&&(r=l),o&=~i}if(o=r,o=ee()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*_g(o/1960))-o,10<o){t.timeoutHandle=ws(Wt.bind(null,t,Ae,lt),o);break}Wt(t,Ae,lt);break;case 5:Wt(t,Ae,lt);break;default:throw Error(N(329))}}}return Pe(t,ee()),t.callbackNode===n?op.bind(null,t):null}function Js(t,e){var n=go;return t.current.memoizedState.isDehydrated&&(Zt(t,e).flags|=256),t=Kr(t,e),t!==2&&(e=Ae,Ae=n,e!==null&&Ws(e)),t}function Ws(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function Cg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!et(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wt(t,e){for(e&=~Kl,e&=~fi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xe(e),o=1<<n;t[n]=-1,e&=~o}}function vu(t){if(B&6)throw Error(N(327));Mn();var e=xr(t,0);if(!(e&1))return Pe(t,ee()),null;var n=Kr(t,e);if(t.tag!==0&&n===2){var o=ys(t);o!==0&&(e=o,n=Js(t,o))}if(n===1)throw n=Lo,Zt(t,0),wt(t,e),Pe(t,ee()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wt(t,Ae,lt),Pe(t,ee()),null}function Ql(t,e){var n=B;B|=1;try{return t(e)}finally{B=n,B===0&&(Bn=ee()+500,ai&&qt())}}function on(t){Rt!==null&&Rt.tag===0&&!(B&6)&&Mn();var e=B;B|=1;var n=qe.transition,o=$;try{if(qe.transition=null,$=1,t)return t()}finally{$=o,qe.transition=n,B=e,!(B&6)&&qt()}}function Xl(){ke=Cn.current,K(Cn)}function Zt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jm(n)),te!==null)for(n=te.return;n!==null;){var o=n;switch(Pl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Lr();break;case 3:Gn(),K(Ne),K(ve),Hl();break;case 5:Gl(o);break;case 4:Gn();break;case 13:K(Q);break;case 19:K(Q);break;case 10:Ll(o.type._context);break;case 22:case 23:Xl()}n=n.return}if(ae=t,te=t=Ft(t.current,null),de=ke=e,re=0,Lo=null,Kl=fi=nn=0,Ae=go=null,Qt!==null){for(e=0;e<Qt.length;e++)if(n=Qt[e],o=n.interleaved,o!==null){n.interleaved=null;var r=o.next,i=n.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}n.pending=o}Qt=null}return t}function rp(t,e){do{var n=te;try{if(Dl(),yr.current=Or,zr){for(var o=X.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}zr=!1}if(tn=0,le=oe=X=null,ho=!1,Mo=0,Wl.current=null,n===null||n.return===null){re=1,Lo=e,te=null;break}e:{var i=t,l=n.return,u=n,c=e;if(e=de,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=iu(l);if(m!==null){m.flags&=-257,su(m,l,u,i,e),m.mode&1&&ru(i,d,e),e=m,c=d;var E=e.updateQueue;if(E===null){var S=new Set;S.add(c),e.updateQueue=S}else E.add(c);break e}else{if(!(e&1)){ru(i,d,e),Zl();break e}c=Error(N(426))}}else if(Y&&u.mode&1){var T=iu(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),su(T,l,u,i,e),Ml(Hn(c,u));break e}}i=c=Hn(c,u),re!==4&&(re=2),go===null?go=[i]:go.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=qf(i,c,e);ba(i,y);break e;case 1:u=c;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Lt===null||!Lt.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=zf(i,u,e);ba(i,_);break e}}i=i.return}while(i!==null)}lp(n)}catch(I){e=I,te===n&&n!==null&&(te=n=n.return);continue}break}while(!0)}function ip(){var t=$r.current;return $r.current=Or,t===null?Or:t}function Zl(){(re===0||re===3||re===2)&&(re=4),ae===null||!(nn&268435455)&&!(fi&268435455)||wt(ae,de)}function Kr(t,e){var n=B;B|=2;var o=ip();(ae!==t||de!==e)&&(lt=null,Zt(t,e));do try{Ig();break}catch(r){rp(t,r)}while(!0);if(Dl(),B=n,$r.current=o,te!==null)throw Error(N(261));return ae=null,de=0,re}function Ig(){for(;te!==null;)sp(te)}function wg(){for(;te!==null&&!Xh();)sp(te)}function sp(t){var e=up(t.alternate,t,ke);t.memoizedProps=t.pendingProps,e===null?lp(t):te=e,Wl.current=null}function lp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vg(n,e),n!==null){n.flags&=32767,te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{re=6,te=null;return}}else if(n=yg(n,e,ke),n!==null){te=n;return}if(e=e.sibling,e!==null){te=e;return}te=e=t}while(e!==null);re===0&&(re=5)}function Wt(t,e,n){var o=$,r=qe.transition;try{qe.transition=null,$=1,Ag(t,e,n,o)}finally{qe.transition=r,$=o}return null}function Ag(t,e,n,o){do Mn();while(Rt!==null);if(B&6)throw Error(N(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(sm(t,i),t===ae&&(te=ae=null,de=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rr||(rr=!0,cp(Nr,function(){return Mn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var l=$;$=1;var u=B;B|=4,Wl.current=null,Sg(t,n),tp(n,t),Wm(Cs),Pr=!!_s,Cs=_s=null,t.current=n,Tg(n),Zh(),B=u,$=l,qe.transition=i}else t.current=n;if(rr&&(rr=!1,Rt=t,Wr=r),i=t.pendingLanes,i===0&&(Lt=null),em(n.stateNode),Pe(t,ee()),e!==null)for(o=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],o(r.value,{componentStack:r.stack,digest:r.digest});if(Jr)throw Jr=!1,t=Os,Os=null,t;return Wr&1&&t.tag!==0&&Mn(),i=t.pendingLanes,i&1?t===$s?yo++:(yo=0,$s=t):yo=0,qt(),null}function Mn(){if(Rt!==null){var t=Bd(Wr),e=qe.transition,n=$;try{if(qe.transition=null,$=16>t?16:t,Rt===null)var o=!1;else{if(t=Rt,Rt=null,Wr=0,B&6)throw Error(N(331));var r=B;for(B|=4,D=t.current;D!==null;){var i=D,l=i.child;if(D.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(D=d;D!==null;){var f=D;switch(f.tag){case 0:case 11:case 15:mo(8,f,i)}var h=f.child;if(h!==null)h.return=f,D=h;else for(;D!==null;){f=D;var p=f.sibling,m=f.return;if(bf(f),f===d){D=null;break}if(p!==null){p.return=m,D=p;break}D=m}}}var E=i.alternate;if(E!==null){var S=E.child;if(S!==null){E.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}D=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,D=l;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mo(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,D=y;break e}D=i.return}}var g=t.current;for(D=g;D!==null;){l=D;var v=l.child;if(l.subtreeFlags&2064&&v!==null)v.return=l,D=v;else e:for(l=g;D!==null;){if(u=D,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:di(9,u)}}catch(I){b(u,u.return,I)}if(u===l){D=null;break e}var _=u.sibling;if(_!==null){_.return=u.return,D=_;break e}D=u.return}}if(B=r,qt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(oi,t)}catch{}o=!0}return o}finally{$=n,qe.transition=e}}return!1}function Eu(t,e,n){e=Hn(n,e),e=qf(t,e,1),t=Dt(t,e,1),e=Te(),t!==null&&(Vo(t,1,e),Pe(t,e))}function b(t,e,n){if(t.tag===3)Eu(t,t,n);else for(;e!==null;){if(e.tag===3){Eu(e,t,n);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Lt===null||!Lt.has(o))){t=Hn(n,t),t=zf(e,t,1),e=Dt(e,t,1),t=Te(),e!==null&&(Vo(e,1,t),Pe(e,t));break}}e=e.return}}function Rg(t,e,n){var o=t.pingCache;o!==null&&o.delete(e),e=Te(),t.pingedLanes|=t.suspendedLanes&n,ae===t&&(de&n)===n&&(re===4||re===3&&(de&130023424)===de&&500>ee()-Yl?Zt(t,0):Kl|=n),Pe(t,e)}function ap(t,e){e===0&&(t.mode&1?(e=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):e=1);var n=Te();t=ht(t,e),t!==null&&(Vo(t,e,n),Pe(t,n))}function Ng(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ap(t,n)}function xg(t,e){var n=0;switch(t.tag){case 13:var o=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(N(314))}o!==null&&o.delete(e),ap(t,n)}var up;up=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ne.current)Re=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Re=!1,gg(t,e,n);Re=!!(t.flags&131072)}else Re=!1,Y&&e.flags&1048576&&pf(e,Vr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Er(t,e),t=e.pendingProps;var r=Un(e,ve.current);Pn(e,n),r=ql(null,e,o,t,r,n);var i=zl();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xe(o)?(i=!0,Ur(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Fl(e),r.updater=ci,e.stateNode=r,r._reactInternals=e,ks(e,o,t,n),e=Us(null,e,o,!0,i,n)):(e.tag=0,Y&&i&&xl(e),Se(null,e,r,n),e=e.child),e;case 16:o=e.elementType;e:{switch(Er(t,e),t=e.pendingProps,r=o._init,o=r(o._payload),e.type=o,r=e.tag=Mg(o),t=Ke(o,t),r){case 0:e=Ls(null,e,o,t,n);break e;case 1:e=uu(null,e,o,t,n);break e;case 11:e=lu(null,e,o,t,n);break e;case 14:e=au(null,e,o,Ke(o.type,t),n);break e}throw Error(N(306,o,""))}return e;case 0:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),Ls(t,e,o,r,n);case 1:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),uu(t,e,o,r,n);case 3:e:{if(Wf(e),t===null)throw Error(N(387));o=e.pendingProps,i=e.memoizedState,r=i.element,Ef(t,e),Br(e,o,null,n);var l=e.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Hn(Error(N(423)),e),e=cu(t,e,o,n,r);break e}else if(o!==r){r=Hn(Error(N(424)),e),e=cu(t,e,o,n,r);break e}else for(De=kt(e.stateNode.containerInfo.firstChild),Le=e,Y=!0,Qe=null,n=yf(e,null,o,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fn(),o===r){e=mt(t,e,n);break e}Se(t,e,o,n)}e=e.child}return e;case 5:return Sf(e),t===null&&xs(e),o=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,l=r.children,Is(o,r)?l=null:i!==null&&Is(o,i)&&(e.flags|=32),Jf(t,e),Se(t,e,l,n),e.child;case 6:return t===null&&xs(e),null;case 13:return Kf(t,e,n);case 4:return Vl(e,e.stateNode.containerInfo),o=e.pendingProps,t===null?e.child=Vn(e,null,o,n):Se(t,e,o,n),e.child;case 11:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),lu(t,e,o,r,n);case 7:return Se(t,e,e.pendingProps,n),e.child;case 8:return Se(t,e,e.pendingProps.children,n),e.child;case 12:return Se(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(o=e.type._context,r=e.pendingProps,i=e.memoizedProps,l=r.value,J(Gr,o._currentValue),o._currentValue=l,i!==null)if(et(i.value,l)){if(i.children===r.children&&!Ne.current){e=mt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(i.tag===1){c=dt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ps(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(N(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Ps(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Se(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,o=e.pendingProps.children,Pn(e,n),r=Oe(r),o=o(r),e.flags|=1,Se(t,e,o,n),e.child;case 14:return o=e.type,r=Ke(o,e.pendingProps),r=Ke(o.type,r),au(t,e,o,r,n);case 15:return Of(t,e,e.type,e.pendingProps,n);case 17:return o=e.type,r=e.pendingProps,r=e.elementType===o?r:Ke(o,r),Er(t,e),e.tag=1,xe(o)?(t=!0,Ur(e)):t=!1,Pn(e,n),Bf(e,o,r),ks(e,o,r,n),Us(null,e,o,!0,t,n);case 19:return Yf(t,e,n);case 22:return $f(t,e,n)}throw Error(N(156,e.tag))};function cp(t,e){return Fd(t,e)}function Pg(t,e,n,o){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(t,e,n,o){return new Pg(t,e,n,o)}function bl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mg(t){if(typeof t=="function")return bl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yl)return 11;if(t===vl)return 14}return 2}function Ft(t,e){var n=t.alternate;return n===null?(n=Be(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _r(t,e,n,o,r,i){var l=2;if(o=t,typeof t=="function")bl(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case pn:return bt(n.children,r,i,e);case gl:l=8,r|=8;break;case ns:return t=Be(12,n,e,r|2),t.elementType=ns,t.lanes=i,t;case os:return t=Be(13,n,e,r),t.elementType=os,t.lanes=i,t;case rs:return t=Be(19,n,e,r),t.elementType=rs,t.lanes=i,t;case Ed:return pi(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yd:l=10;break e;case vd:l=9;break e;case yl:l=11;break e;case vl:l=14;break e;case _t:l=16,o=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Be(l,n,e,r),e.elementType=t,e.type=o,e.lanes=i,e}function bt(t,e,n,o){return t=Be(7,t,o,e),t.lanes=n,t}function pi(t,e,n,o){return t=Be(22,t,o,e),t.elementType=Ed,t.lanes=n,t.stateNode={isHidden:!1},t}function Qi(t,e,n){return t=Be(6,t,null,e),t.lanes=n,t}function Xi(t,e,n){return e=Be(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kg(t,e,n,o,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function jl(t,e,n,o,r,i,l,u,c){return t=new kg(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Be(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fl(i),t}function Dg(t,e,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fn,key:o==null?null:""+o,children:t,containerInfo:e,implementation:n}}function dp(t){if(!t)return Gt;t=t._reactInternals;e:{if(ln(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(xe(n))return df(t,n,e)}return e}function fp(t,e,n,o,r,i,l,u,c){return t=jl(n,o,!0,t,r,i,l,u,c),t.context=dp(null),n=t.current,o=Te(),r=Ut(n),i=dt(o,r),i.callback=e??null,Dt(n,i,r),t.current.lanes=r,Vo(t,r,o),Pe(t,o),t}function hi(t,e,n,o){var r=e.current,i=Te(),l=Ut(r);return n=dp(n),e.context===null?e.context=n:e.pendingContext=n,e=dt(i,l),e.payload={element:t},o=o===void 0?null:o,o!==null&&(e.callback=o),t=Dt(r,e,l),t!==null&&(Ze(t,r,l,i),gr(t,r,l)),l}function Yr(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Su(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ea(t,e){Su(t,e),(t=t.alternate)&&Su(t,e)}function Lg(){return null}var pp=typeof reportError=="function"?reportError:function(t){console.error(t)};function ta(t){this._internalRoot=t}mi.prototype.render=ta.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));hi(t,e,null,null)};mi.prototype.unmount=ta.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;on(function(){hi(null,t,null,null)}),e[pt]=null}};function mi(t){this._internalRoot=t}mi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Od();t={blockedOn:null,target:t,priority:e};for(var n=0;n<It.length&&e!==0&&e<It[n].priority;n++);It.splice(n,0,t),n===0&&Jd(t)}};function na(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function Ug(t,e,n,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var d=Yr(l);i.call(d)}}var l=fp(e,o,t,0,null,!1,!1,"",Tu);return t._reactRootContainer=l,t[pt]=l.current,Ao(t.nodeType===8?t.parentNode:t),on(),l}for(;r=t.lastChild;)t.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var d=Yr(c);u.call(d)}}var c=jl(t,0,!1,null,null,!1,!1,"",Tu);return t._reactRootContainer=c,t[pt]=c.current,Ao(t.nodeType===8?t.parentNode:t),on(function(){hi(e,c,n,o)}),c}function yi(t,e,n,o,r){var i=n._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var c=Yr(l);u.call(c)}}hi(e,l,t,r)}else l=Ug(n,e,t,r,o);return Yr(l)}qd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=io(e.pendingLanes);n!==0&&(Tl(e,n|1),Pe(e,ee()),!(B&6)&&(Bn=ee()+500,qt()))}break;case 13:on(function(){var o=ht(t,1);if(o!==null){var r=Te();Ze(o,t,1,r)}}),ea(t,1)}};_l=function(t){if(t.tag===13){var e=ht(t,134217728);if(e!==null){var n=Te();Ze(e,t,134217728,n)}ea(t,134217728)}};zd=function(t){if(t.tag===13){var e=Ut(t),n=ht(t,e);if(n!==null){var o=Te();Ze(n,t,e,o)}ea(t,e)}};Od=function(){return $};$d=function(t,e){var n=$;try{return $=t,e()}finally{$=n}};hs=function(t,e,n){switch(e){case"input":if(ls(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var o=n[e];if(o!==t&&o.form===t.form){var r=li(o);if(!r)throw Error(N(90));Td(o),ls(o,r)}}}break;case"textarea":Cd(t,n);break;case"select":e=n.value,e!=null&&An(t,!!n.multiple,e,!1)}};Pd=Ql;Md=on;var Fg={usingClientEntryPoint:!1,Events:[Ho,yn,li,Nd,xd,Ql]},eo={findFiberByHostInstance:Yt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vg={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ld(t),t===null?null:t.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||Lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ir.isDisabled&&ir.supportsFiber)try{oi=ir.inject(Vg),it=ir}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fg;Fe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!na(e))throw Error(N(200));return Dg(t,e,null,n)};Fe.createRoot=function(t,e){if(!na(t))throw Error(N(299));var n=!1,o="",r=pp;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=jl(t,1,!1,null,null,n,!1,o,r),t[pt]=e.current,Ao(t.nodeType===8?t.parentNode:t),new ta(e)};Fe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Ld(e),t=t===null?null:t.stateNode,t};Fe.flushSync=function(t){return on(t)};Fe.hydrate=function(t,e,n){if(!gi(e))throw Error(N(200));return yi(null,t,e,!0,n)};Fe.hydrateRoot=function(t,e,n){if(!na(t))throw Error(N(405));var o=n!=null&&n.hydratedSources||null,r=!1,i="",l=pp;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=fp(e,null,t,1,n??null,r,!1,i,l),t[pt]=e.current,Ao(t),o)for(t=0;t<o.length;t++)n=o[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new mi(e)};Fe.render=function(t,e,n){if(!gi(e))throw Error(N(200));return yi(null,t,e,!1,n)};Fe.unmountComponentAtNode=function(t){if(!gi(t))throw Error(N(40));return t._reactRootContainer?(on(function(){yi(null,null,t,!1,function(){t._reactRootContainer=null,t[pt]=null})}),!0):!1};Fe.unstable_batchedUpdates=Ql;Fe.unstable_renderSubtreeIntoContainer=function(t,e,n,o){if(!gi(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return yi(t,e,n,!1,o)};Fe.version="18.3.1-next-f1338f8080-20240426";function hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hp)}catch(t){console.error(t)}}hp(),pd.exports=Fe;var Gg=pd.exports,_u=Gg;es.createRoot=_u.createRoot,es.hydrateRoot=_u.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Me=(t,e)=>{const n=O.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:c,...d},f)=>O.createElement("svg",{ref:f,...Hg,width:r,height:r,stroke:o,strokeWidth:l?Number(i)*24/Number(r):i,className:["lucide",`lucide-${Bg(t)}`,u].join(" "),...d},[...e.map(([h,p])=>O.createElement(h,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=Me("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Me("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Me("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Me("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Me("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=Me("MessageSquareQuote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=Me("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var mp=(t=>(t.ADVISOR="Advisor",t.BOSS="Boss",t.CLIENT="Client",t.COLLEAGUE="Colleague",t.SENIOR_PEER="Senior Peer",t))(mp||{});const gp=["Advisor","Boss","Client","Colleague","Senior Peer"];var we=(t=>(t.ENGLISH="en",t.CHINESE="zh",t))(we||{}),ne=(t=>(t.GOOGLE="Google Gemini",t.OPENAI="OpenAI Compatible",t))(ne||{});const Ks={"Google Gemini":{apiKey:"",model:"gemini-3-flash-preview"},"OpenAI Compatible":{apiKey:"",baseUrl:"https://api.siliconflow.cn/v1/chat/completions",model:"deepseek-ai/DeepSeek-V3"}},rn={Advisor:{id:"Advisor",label:"Graduate Advisor",labelZh:"/",description:"Sincere, proactive, action-oriented",descriptionZh:"",icon:"",promptInstruction:'Role: Student replying to a Professor. Tone: Respectful but proactive. Avoid empty flattery or stiff formalities. If receiving feedback/scolding, focus on "Action Taken" and "fixing it immediately" rather than just apologizing. Sound diligent and sincere.'},Boss:{id:"Boss",label:"Boss",labelZh:"/",description:"Professional, concise, results-driven",descriptionZh:"",icon:"",promptInstruction:"Role: Employee replying to a Boss. Tone: Professional, concise, and outcome-focused. Get straight to the point. Focus on solutions, deadlines, and results. No fluff."},Client:{id:"Client",label:"Client",labelZh:"/",description:"Service-oriented, polite, accommodating",descriptionZh:"",icon:"",promptInstruction:"Role: Vendor/Service Provider replying to a Client. Tone: Service-oriented, polite, and reassuring. Prioritize their needs and comfort. Use polite but modern business language."},Colleague:{id:"Colleague",label:"Colleague",labelZh:"",description:"Collaborative, clear, friendly",descriptionZh:"",icon:"",promptInstruction:'Role: Coworker replying to a peer. Tone: Collaborative, clear, and friendly. Keep it casual but professional. "We are in this together" vibe.'},"Senior Peer":{id:"Senior Peer",label:"Senior Peer",labelZh:"/",description:"Respectful, supportive, equal-but-polite",descriptionZh:"",icon:"",promptInstruction:"Role: Replying to a senior or experienced peer. Tone: Respectful but authoritative on your own domain. Supportive and professional. Acknowledge their experience without being subservient."}},oa={en:{title:"ReplyPolisher",subtitle:"Transform your drafts into professional communication with AI.",messageDetails:"Message Details",clearAll:"Clear All",contextLabel:"Incoming Message (Context)",contextOptional:"Optional",contextPlaceholder:"Paste what the other person said here... (optional)",draftLabel:"Your Draft Response",draftPlaceholder:"Paste your draft here... (e.g., 'sure, i'll send it over soon')",thoughtsLabel:"Hidden Thoughts / Extra Instructions",thoughtsOptional:"Internal Use Only",thoughtsPlaceholder:"e.g., 'I am annoyed but need to be polite', 'Emphasize that I am very busy'",selectPersona:"Select Persona",polishButton:"Polish Text",polishing:"Polishing...",proTip:"Pro tip: Press  + Enter to polish instantly",polishedResult:"Polished Result",personaLabel:"Persona",copy:"Copy",copied:"Copied",provider:"AI Provider",settings:"Settings",generalSettings:"General Settings",defaultPersona:"Default Persona",apiKey:"API Key",baseUrl:"API URL",modelName:"Model Name",save:"Save",cancel:"Cancel",placeholderKey:"Enter your API Key...",placeholderBaseUrl:"e.g. https://api.openai.com/v1/chat/completions",placeholderModel:"e.g. gpt-4o, deepseek-chat...",reset:"Reset Default",configFor:"Configuration for"},zh:{title:"ReplyPolisher ()",subtitle:" AI ",messageDetails:"",clearAll:"",contextLabel:" / ",contextOptional:"",contextPlaceholder:" ()...",draftLabel:"",draftPlaceholder:"... ('')",thoughtsLabel:" / ",thoughtsOptional:"",thoughtsPlaceholder:"'', ''",selectPersona:"",polishButton:"",polishing:"...",proTip:" Ctrl + Enter ",polishedResult:"",personaLabel:"",copy:"",copied:"",provider:"AI ",settings:"",generalSettings:"",defaultPersona:"",apiKey:"API Key ()",baseUrl:"API  (Base URL)",modelName:"",save:"",cancel:"",placeholderKey:" API Key...",placeholderBaseUrl:": https://api.openai.com/v1/chat/completions",placeholderModel:": gpt-4o, deepseek-chat...",reset:"",configFor:""}};var ty={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ny,oy;function ry(){return{geminiUrl:ny,vertexUrl:oy}}function iy(t,e,n,o){var r,i;if(!(t!=null&&t.baseUrl)){const l=ry();return e?(r=l.vertexUrl)!==null&&r!==void 0?r:n:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vt{}function M(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const i=e[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(t,e,n){for(let i=0;i<e.length-1;i++){const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];a(f,e.slice(i+1),n[d])}else for(const d of c)a(d,e.slice(i+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];a(c[0],e.slice(i+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function s(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const l=t[i];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function sy(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),i=o.split("."),l=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&i.length>u)for(let c=u;c<i.length;c++){const d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Ys(t,r,i,0,l)}}function Ys(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const i=e[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=t;if(l in u&&Array.isArray(u[l]))for(const c of u[l])Ys(c,e,n,o+1,r)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const h=[];for(const p of n.slice(o))p==="*"?h.push(d):h.push(p);a(l,h,f)}for(const d of u)delete l[d]}}else{const l=t;i in l&&Ys(l[i],e,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ra(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ly(t){const e={},n=s(t,["operationName"]);n!=null&&a(e,["operationName"],n);const o=s(t,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function ay(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],cy(l)),e}function uy(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],dy(l)),e}function cy(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>fy(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function dy(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>py(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function fy(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],Ey(n)),e}function py(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],Sy(n)),e}function hy(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function my(t){const e={},n=s(t,["operationName"]);return n!=null&&a(e,["_url","operationName"],n),e}function gy(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],yy(l)),e}function yy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function yp(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],vy(l)),e}function vy(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function Ey(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],ra(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function Sy(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],ra(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cu;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Cu||(Cu={}));var Iu;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Iu||(Iu={}));var wu;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(wu||(wu={}));var Nt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Nt||(Nt={}));var Au;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Au||(Au={}));var Ru;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ru||(Ru={}));var Nu;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Nu||(Nu={}));var xu;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(xu||(xu={}));var Pu;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Pu||(Pu={}));var Mu;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Mu||(Mu={}));var ku;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ku||(ku={}));var Du;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Du||(Du={}));var Lu;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Lu||(Lu={}));var Uu;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Uu||(Uu={}));var Fu;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Fu||(Fu={}));var Vu;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Vu||(Vu={}));var Gu;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Gu||(Gu={}));var Hu;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Hu||(Hu={}));var Bu;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Bu||(Bu={}));var qu;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(qu||(qu={}));var zu;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(zu||(zu={}));var Qr;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Qr||(Qr={}));var Ou;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ou||(Ou={}));var $u;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($u||($u={}));var Ju;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ju||(Ju={}));var Qs;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qs||(Qs={}));var Wu;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Wu||(Wu={}));var Ku;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ku||(Ku={}));var Xs;(function(t){t.COLLECTION="COLLECTION"})(Xs||(Xs={}));var Yu;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Yu||(Yu={}));var Qu;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Qu||(Qu={}));var Xu;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Xu||(Xu={}));var Zu;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Zu||(Zu={}));var bu;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(bu||(bu={}));var ju;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ju||(ju={}));var ec;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ec||(ec={}));var tc;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(tc||(tc={}));var nc;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(nc||(nc={}));var oc;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(oc||(oc={}));var rc;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(rc||(rc={}));var ic;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ic||(ic={}));var sc;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(sc||(sc={}));var lc;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(lc||(lc={}));var ac;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ac||(ac={}));var uc;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(uc||(uc={}));var cc;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(cc||(cc={}));var dc;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(dc||(dc={}));var fc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(fc||(fc={}));var pc;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(pc||(pc={}));var hc;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(hc||(hc={}));var mc;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mc||(mc={}));var gc;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gc||(gc={}));var yc;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(yc||(yc={}));var vc;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vc||(vc={}));var Ec;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ec||(Ec={}));var Sc;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Sc||(Sc={}));var In;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(In||(In={}));class Zs{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class to{get text(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const h=[];for(const p of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,E]of Object.entries(p))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(E!==null||E!==void 0)&&h.push(m);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const h of(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,m]of Object.entries(h))p!=="inlineData"&&(m!==null||m!==void 0)&&f.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,o,r,i,l,u,c;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,o,r,i,l,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,o,r,i,l,u,c,d;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Tc{}class _c{}class Ty{}class _y{}class Cy{}class Iy{}class Cc{}class Ic{}class wc{}class wy{}class Xr{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Xr;let r;const i=e;return n?r=uy(i):r=ay(i),Object.assign(o,r),o}}class Ac{}class Rc{}class Nc{}class xc{}class Ay{}class Ry{}class Ny{}class ia{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new ia,i=gy(e);return Object.assign(o,i),o}}class xy{}class Py{}class My{}class Pc{}class ky{get text(){var e,n,o;let r="",i=!1;const l=[];for(const u of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,n,o;let r="";const i=[];for(const l of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Dy{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class sa{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new sa,i=yp(e);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function vp(t,e){const n=q(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Ep(t){return Array.isArray(t)?t.map(e=>Zr(e)):[Zr(t)]}function Zr(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Sp(t){const e=Zr(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Tp(t){const e=Zr(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Mc(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function _p(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Mc(e)):[Mc(t)]}function bs(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function kc(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Dc(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ye(t){if(t==null)throw new Error("ContentUnion is required");return bs(t)?t:{role:"user",parts:_p(t)}}function la(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=ye(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=ye(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ye(n)):[ye(e)]}function ze(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(kc(t)||Dc(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ye(t)]}const e=[],n=[],o=bs(t[0]);for(const r of t){const i=bs(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(r);else{if(kc(r)||Dc(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:_p(n)}),e}function Ly(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(Nt).includes(n[0].toUpperCase())?n[0].toUpperCase():Nt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(Nt).includes(o.toUpperCase())?o.toUpperCase():Nt.TYPE_UNSPECIFIED})}}function kn(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&Ly(t.type,e);for(const[l,u]of Object.entries(t))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Nt).includes(u.toUpperCase())?u.toUpperCase():Nt.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=kn(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(kn(d))}e[l]=c}else if(r.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=kn(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function aa(t){return kn(t)}function ua(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ca(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function $n(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=kn(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=kn(e.response));return t}function Jn(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Uy(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function Et(t,e){if(typeof e!="string")throw new Error("name must be a string");return Uy(t,e,"cachedContents")}function Cp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function zt(t){return ra(t)}function Fy(t){return t!=null&&typeof t=="object"&&"name"in t}function Vy(t){return t!=null&&typeof t=="object"&&"video"in t}function Gy(t){return t!=null&&typeof t=="object"&&"uri"in t}function Ip(t){var e;let n;if(Fy(t)&&(n=t.name),!(Gy(t)&&(n=t.uri,n===void 0))&&!(Vy(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function wp(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ap(t){for(const e of["models","tunedModels","publisherModels"])if(Hy(t,e))return t[e];return[]}function Hy(t,e){return t!==null&&typeof t=="object"&&e in t}function By(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function qy(t,e={}){const n=[],o=new Set;for(const r of t){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=By(r,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Rp(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function zy(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Np(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Wn(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function xp(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oy(t){const e={},n=s(t,["responsesFile"]);n!=null&&a(e,["fileName"],n);const o=s(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Cv(l))),a(e,["inlinedResponses"],i)}const r=s(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["inlinedEmbedContentResponses"],i)}return e}function $y(t){const e={},n=s(t,["predictionsFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigqueryDestination","outputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function Jy(t){const e={},n=s(t,["format"]);n!=null&&a(e,["predictionsFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigqueryDestination","outputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Cr(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["metadata","state"]);r!=null&&a(e,["state"],xp(r));const i=s(t,["metadata","createTime"]);i!=null&&a(e,["createTime"],i);const l=s(t,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(t,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=s(t,["metadata","model"]);c!=null&&a(e,["model"],c);const d=s(t,["metadata","output"]);return d!=null&&a(e,["dest"],Oy(Np(d))),e}function js(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["state"]);r!=null&&a(e,["state"],xp(r));const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(e,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(e,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(e,["updateTime"],d);const f=s(t,["model"]);f!=null&&a(e,["model"],f);const h=s(t,["inputConfig"]);h!=null&&a(e,["src"],Wy(h));const p=s(t,["outputConfig"]);p!=null&&a(e,["dest"],$y(Np(p)));const m=s(t,["completionStats"]);return m!=null&&a(e,["completionStats"],m),e}function Wy(t){const e={},n=s(t,["instancesFormat"]);n!=null&&a(e,["format"],n);const o=s(t,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const r=s(t,["bigquerySource","inputUri"]);return r!=null&&a(e,["bigqueryUri"],r),e}function Ky(t,e){const n={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(e,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>_v(t,l))),a(n,["requests","requests"],i)}return n}function Yy(t){const e={},n=s(t,["format"]);n!=null&&a(e,["instancesFormat"],n);const o=s(t,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const r=s(t,["bigqueryUri"]);if(r!=null&&a(e,["bigquerySource","inputUri"],r),s(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Qy(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Xy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function Zy(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function by(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],jy(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),a(e,["safetyRatings"],p)}const h=s(t,["urlContextMetadata"]);return h!=null&&a(e,["urlContextMetadata"],h),e}function jy(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function Pp(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Pv(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function ev(t,e){const n={},o=s(t,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function tv(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["dest"]);return e!==void 0&&r!=null&&a(e,["outputConfig"],Jy(zy(r))),n}function Lc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],Ky(t,Rp(t,r)));const i=s(e,["config"]);return i!=null&&ev(i,n),n}function nv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],q(t,o));const r=s(e,["src"]);r!=null&&a(n,["inputConfig"],Yy(Rp(t,r)));const i=s(e,["config"]);return i!=null&&tv(i,n),n}function ov(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),n}function rv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["src"]);r!=null&&a(n,["batch","inputConfig"],dv(t,r));const i=s(e,["config"]);return i!=null&&ov(i,n),n}function iv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function sv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function lv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function av(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);return i!=null&&a(e,["error"],i),e}function uv(t,e){const n={},o=s(e,["contents"]);if(o!=null){let i=la(t,o);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["requests[]","request","content"],i)}const r=s(e,["config"]);return r!=null&&(a(n,["_self"],cv(r,n)),sy(n,{"requests[].*":"requests[].request.*"})),n}function cv(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function dv(t,e){const n={},o=s(e,["fileName"]);o!=null&&a(n,["file_name"],o);const r=s(e,["inlinedRequests"]);return r!=null&&a(n,["requests"],uv(t,r)),n}function fv(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function pv(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hv(t){const e={},n=s(t,["allowedFunctionNames"]);n!=null&&a(e,["allowedFunctionNames"],n);const o=s(t,["mode"]);if(o!=null&&a(e,["mode"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function mv(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],Pp(ye(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const T=s(e,["responseMimeType"]);T!=null&&a(o,["responseMimeType"],T);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],aa(y));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(n!==void 0&&v!=null){let z=v;Array.isArray(z)&&(z=z.map(pe=>Mv(pe))),a(n,["safetySettings"],z)}const _=s(e,["tools"]);if(n!==void 0&&_!=null){let z=Jn(_);Array.isArray(z)&&(z=z.map(pe=>Dv($n(pe)))),a(n,["tools"],z)}const I=s(e,["toolConfig"]);if(n!==void 0&&I!=null&&a(n,["toolConfig"],kv(I)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=s(e,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],Et(t,w));const A=s(e,["responseModalities"]);A!=null&&a(o,["responseModalities"],A);const R=s(e,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const P=s(e,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],ua(P)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=s(e,["thinkingConfig"]);k!=null&&a(o,["thinkingConfig"],k);const H=s(e,["imageConfig"]);H!=null&&a(o,["imageConfig"],Tv(H));const ie=s(e,["enableEnhancedCivicAnswers"]);if(ie!=null&&a(o,["enableEnhancedCivicAnswers"],ie),s(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function gv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>by(d))),a(e,["candidates"],c)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function yv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function vv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Wn(t,o)),n}function Ev(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Sv(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function Tv(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function _v(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["request","model"],q(t,o));const r=s(e,["contents"]);if(r!=null){let u=ze(r);Array.isArray(u)&&(u=u.map(c=>Pp(c))),a(n,["request","contents"],u)}const i=s(e,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(e,["config"]);return l!=null&&a(n,["request","generationConfig"],mv(t,l,s(n,["request"],{}))),n}function Cv(t){const e={},n=s(t,["response"]);n!=null&&a(e,["response"],gv(n));const o=s(t,["error"]);return o!=null&&a(e,["error"],o),e}function Iv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);if(e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),s(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function wv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const i=s(t,["filter"]);return e!==void 0&&i!=null&&a(e,["_query","filter"],i),n}function Av(t){const e={},n=s(t,["config"]);return n!=null&&Iv(n,e),e}function Rv(t){const e={},n=s(t,["config"]);return n!=null&&wv(n,e),e}function Nv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Cr(l))),a(e,["batchJobs"],i)}return e}function xv(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>js(l))),a(e,["batchJobs"],i)}return e}function Pv(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],fv(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],pv(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Qy(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function Mv(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function kv(t){const e={},n=s(t,["retrievalConfig"]);n!=null&&a(e,["retrievalConfig"],n);const o=s(t,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],hv(o)),e}function Dv(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],Ev(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],Sv(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(gt||(gt={}));class an{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lv extends vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new an(gt.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Lc(this.apiClient,e),o=n._url,r=M("{model}:batchGenerateContent",o),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const h=Object.assign({},f);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const m=h.request;m.systemInstruction=p,h.request=m}d.push(h)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(e),l=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=nv(this.apiClient,e);return u=M("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>js(f))}else{const d=Lc(this.apiClient,e);return u=M("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Cr(f))}}async createEmbeddingsInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rv(this.apiClient,e);return i=M("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>Cr(c))}}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=vv(this.apiClient,e);return u=M("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>js(f))}else{const d=yv(this.apiClient,e);return u=M("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Cr(f))}}async cancel(e){var n,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const c=Zy(this.apiClient,e);l=M("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=Xy(this.apiClient,e);l=M("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Rv(e);return u=M("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=xv(f),p=new Pc;return Object.assign(p,h),p})}else{const d=Av(e);return u=M("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Nv(f),p=new Pc;return Object.assign(p,h),p})}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=sv(this.apiClient,e);return u=M("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>av(f))}else{const d=iv(this.apiClient,e);return u=M("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>lv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uv(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Uc(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>r0(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function Fv(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let f=ze(l);Array.isArray(f)&&(f=f.map(h=>Uc(h))),a(e,["contents"],f)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Uc(ye(u)));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>s0(h))),a(e,["tools"],f)}const d=s(t,["toolConfig"]);if(e!==void 0&&d!=null&&a(e,["toolConfig"],i0(d)),s(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Vv(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);e!==void 0&&r!=null&&a(e,["expireTime"],r);const i=s(t,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const l=s(t,["contents"]);if(e!==void 0&&l!=null){let h=ze(l);Array.isArray(h)&&(h=h.map(p=>p)),a(e,["contents"],h)}const u=s(t,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],ye(u));const c=s(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>l0(p))),a(e,["tools"],h)}const d=s(t,["toolConfig"]);e!==void 0&&d!=null&&a(e,["toolConfig"],d);const f=s(t,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),n}function Gv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],vp(t,o));const r=s(e,["config"]);return r!=null&&Fv(r,n),n}function Hv(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["model"],vp(t,o));const r=s(e,["config"]);return r!=null&&Vv(r,n),n}function Bv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Et(t,o)),n}function qv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Et(t,o)),n}function zv(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function Ov(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function $v(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Jv(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Wv(t){const e={},n=s(t,["allowedFunctionNames"]);n!=null&&a(e,["allowedFunctionNames"],n);const o=s(t,["mode"]);if(o!=null&&a(e,["mode"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Kv(t){const e={},n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Yv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Et(t,o)),n}function Qv(t,e){const n={},o=s(e,["name"]);return o!=null&&a(n,["_url","name"],Et(t,o)),n}function Xv(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function Zv(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function bv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function jv(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function e0(t){const e={},n=s(t,["config"]);return n!=null&&bv(n,e),e}function t0(t){const e={},n=s(t,["config"]);return n!=null&&jv(n,e),e}function n0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function o0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["cachedContents"],i)}return e}function r0(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],$v(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],Jv(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Uv(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function i0(t){const e={},n=s(t,["retrievalConfig"]);n!=null&&a(e,["retrievalConfig"],n);const o=s(t,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],Wv(o)),e}function s0(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],Xv(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],Zv(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function l0(t){const e={},n=s(t,["retrieval"]);n!=null&&a(e,["retrieval"],n);const o=s(t,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(t,["codeExecution"]);r!=null&&a(e,["codeExecution"],r);const i=s(t,["enterpriseWebSearch"]);i!=null&&a(e,["enterpriseWebSearch"],i);const l=s(t,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Kv(p))),a(e,["functionDeclarations"],h)}const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(t,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function a0(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function u0(t,e){const n={},o=s(t,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const r=s(t,["expireTime"]);return e!==void 0&&r!=null&&a(e,["expireTime"],r),n}function c0(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Et(t,o));const r=s(e,["config"]);return r!=null&&a0(r,n),n}function d0(t,e){const n={},o=s(e,["name"]);o!=null&&a(n,["_url","name"],Et(t,o));const r=s(e,["config"]);return r!=null&&u0(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f0 extends vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new an(gt.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Hv(this.apiClient,e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Gv(this.apiClient,e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Qv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Yv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=qv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Ov(f),p=new Nc;return Object.assign(p,h),p})}else{const d=Bv(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=zv(f),p=new Nc;return Object.assign(p,h),p})}}async update(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=d0(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=c0(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=t0(e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=o0(f),p=new xc;return Object.assign(p,h),p})}else{const d=e0(e);return u=M("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=n0(f),p=new xc;return Object.assign(p,h),p})}}}function br(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function Fc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t){return this instanceof L?(this.v=t,this):new L(t)}function be(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(m){return function(E){return Promise.resolve(E).then(m,h)}}function u(m,E){o[m]&&(r[m]=function(S){return new Promise(function(T,y){i.push([m,S,T,y])>1||c(m,S)})},E&&(r[m]=E(r[m])))}function c(m,E){try{d(o[m](E))}catch(S){p(i[0][3],S)}}function d(m){m.value instanceof L?Promise.resolve(m.value.v).then(f,h):p(i[0][2],m)}function f(m){c("next",m)}function h(m){c("throw",m)}function p(m,E){m(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function je(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Fc=="function"?Fc(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(l){return new Promise(function(u,c){l=t[i](l),r(u,c,l.done,l.value)})}}function r(i,l,u,c){Promise.resolve(c).then(function(d){i({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p0(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Mp(n)}function Mp(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function h0(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Vc(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let i=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),i&&!Mp(t[o])&&(i=!1),o++;i?e.push(...r):e.pop()}return e}class m0{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new g0(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class g0{constructor(e,n,o,r={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),h0(i)}async sendMessage(e){var n;await this.sendPromise;const o=ye(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,l,u;const c=await r,d=(l=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(h))!==null&&u!==void 0?u:[]);const m=d?[d]:[];this.recordHistory(o,m,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=ye(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(e=!1){const n=e?Vc(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return be(this,arguments,function*(){var r,i,l,u,c,d;const f=[];try{for(var h=!0,p=je(e),m;m=yield L(p.next()),r=m.done,!r;h=!0){u=m.value,h=!1;const E=u;if(p0(E)){const S=(d=(c=E.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;S!==void 0&&f.push(S)}yield yield L(E)}}catch(E){i={error:E}}finally{try{!h&&!r&&(l=p.return)&&(yield L(l.call(p)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(i=>i.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Vc(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uo extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Uo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y0(t){const e={},n=s(t,["file"]);return n!=null&&a(e,["file"],n),e}function v0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function E0(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],Ip(n)),e}function S0(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function T0(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","file"],Ip(n)),e}function _0(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function C0(t){const e={},n=s(t,["config"]);return n!=null&&_0(n,e),e}function I0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w0 extends vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new an(gt.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=C0(e);return i=M("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=I0(c),f=new xy;return Object.assign(f,d),f})}}async createInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=y0(e);return i=M("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=v0(c),f=new Py;return Object.assign(f,d),f})}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T0(e);return i=M("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=E0(e);return i=M("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=S0(c),f=new My;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ir(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function A0(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>z0(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function R0(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function N0(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function x0(t){const e={},n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function P0(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const h=s(t,["presencePenalty"]);h!=null&&a(e,["presencePenalty"],h);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const m=s(t,["responseMimeType"]);m!=null&&a(e,["responseMimeType"],m);const E=s(t,["responseModalities"]);E!=null&&a(e,["responseModalities"],E);const S=s(t,["responseSchema"]);S!=null&&a(e,["responseSchema"],S);const T=s(t,["routingConfig"]);T!=null&&a(e,["routingConfig"],T);const y=s(t,["seed"]);y!=null&&a(e,["seed"],y);const g=s(t,["speechConfig"]);g!=null&&a(e,["speechConfig"],g);const v=s(t,["stopSequences"]);v!=null&&a(e,["stopSequences"],v);const _=s(t,["temperature"]);_!=null&&a(e,["temperature"],_);const I=s(t,["thinkingConfig"]);I!=null&&a(e,["thinkingConfig"],I);const w=s(t,["topK"]);w!=null&&a(e,["topK"],w);const A=s(t,["topP"]);if(A!=null&&a(e,["topP"],A),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function M0(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function k0(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function D0(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],ca(h));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],A0(ye(E)));const S=s(t,["tools"]);if(e!==void 0&&S!=null){let w=Jn(S);Array.isArray(w)&&(w=w.map(A=>$0($n(A)))),a(e,["setup","tools"],w)}const T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],O0(T));const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const v=s(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);const _=s(t,["contextWindowCompression"]);e!==void 0&&_!=null&&a(e,["setup","contextWindowCompression"],_);const I=s(t,["proactivity"]);if(e!==void 0&&I!=null&&a(e,["setup","proactivity"],I),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function L0(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],P0(o));const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],ca(h));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],ye(E));const S=s(t,["tools"]);if(e!==void 0&&S!=null){let A=Jn(S);Array.isArray(A)&&(A=A.map(R=>J0($n(R)))),a(e,["setup","tools"],A)}const T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],T);const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const v=s(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);const _=s(t,["contextWindowCompression"]);e!==void 0&&_!=null&&a(e,["setup","contextWindowCompression"],_);const I=s(t,["proactivity"]);e!==void 0&&I!=null&&a(e,["setup","proactivity"],I);const w=s(t,["explicitVadSignal"]);return e!==void 0&&w!=null&&a(e,["setup","explicitVadSignal"],w),n}function U0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],q(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],D0(r,n)),n}function F0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],q(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],L0(r,n)),n}function V0(t){const e={},n=s(t,["musicGenerationConfig"]);return n!=null&&a(e,["musicGenerationConfig"],n),e}function G0(t){const e={},n=s(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["weightedPrompts"],o)}return e}function H0(t){const e={},n=s(t,["media"]);if(n!=null){let d=Ep(n);Array.isArray(d)&&(d=d.map(f=>Ir(f))),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Ir(Tp(o)));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],Ir(Sp(i)));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function B0(t){const e={},n=s(t,["media"]);if(n!=null){let d=Ep(n);Array.isArray(d)&&(d=d.map(f=>f)),a(e,["mediaChunks"],d)}const o=s(t,["audio"]);o!=null&&a(e,["audio"],Tp(o));const r=s(t,["audioStreamEnd"]);r!=null&&a(e,["audioStreamEnd"],r);const i=s(t,["video"]);i!=null&&a(e,["video"],Sp(i));const l=s(t,["text"]);l!=null&&a(e,["text"],l);const u=s(t,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(t,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function q0(t){const e={},n=s(t,["setupComplete"]);n!=null&&a(e,["setupComplete"],n);const o=s(t,["serverContent"]);o!=null&&a(e,["serverContent"],o);const r=s(t,["toolCall"]);r!=null&&a(e,["toolCall"],r);const i=s(t,["toolCallCancellation"]);i!=null&&a(e,["toolCallCancellation"],i);const l=s(t,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],W0(l));const u=s(t,["goAway"]);u!=null&&a(e,["goAway"],u);const c=s(t,["sessionResumptionUpdate"]);c!=null&&a(e,["sessionResumptionUpdate"],c);const d=s(t,["voiceActivityDetectionSignal"]);d!=null&&a(e,["voiceActivityDetectionSignal"],d);const f=s(t,["voiceActivity"]);return f!=null&&a(e,["voiceActivity"],K0(f)),e}function z0(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],R0(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],N0(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Ir(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function O0(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $0(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],M0(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],k0(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function J0(t){const e={},n=s(t,["retrieval"]);n!=null&&a(e,["retrieval"],n);const o=s(t,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(t,["codeExecution"]);r!=null&&a(e,["codeExecution"],r);const i=s(t,["enterpriseWebSearch"]);i!=null&&a(e,["enterpriseWebSearch"],i);const l=s(t,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>x0(p))),a(e,["functionDeclarations"],h)}const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(t,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function W0(t){const e={},n=s(t,["promptTokenCount"]);n!=null&&a(e,["promptTokenCount"],n);const o=s(t,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const r=s(t,["candidatesTokenCount"]);r!=null&&a(e,["responseTokenCount"],r);const i=s(t,["toolUsePromptTokenCount"]);i!=null&&a(e,["toolUsePromptTokenCount"],i);const l=s(t,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(t,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(t,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(E=>E)),a(e,["promptTokensDetails"],m)}const d=s(t,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(E=>E)),a(e,["cacheTokensDetails"],m)}const f=s(t,["candidatesTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(E=>E)),a(e,["responseTokensDetails"],m)}const h=s(t,["toolUsePromptTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(E=>E)),a(e,["toolUsePromptTokensDetails"],m)}const p=s(t,["trafficType"]);return p!=null&&a(e,["trafficType"],p),e}function K0(t){const e={},n=s(t,["type"]);return n!=null&&a(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y0(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Q0(t){const e={},n=s(t,["content"]);n!=null&&a(e,["content"],n);const o=s(t,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],X0(o));const r=s(t,["tokenCount"]);r!=null&&a(e,["tokenCount"],r);const i=s(t,["finishReason"]);i!=null&&a(e,["finishReason"],i);const l=s(t,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(t,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(t,["index"]);c!=null&&a(e,["index"],c);const d=s(t,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(t,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),a(e,["safetyRatings"],p)}const h=s(t,["urlContextMetadata"]);return h!=null&&a(e,["urlContextMetadata"],h),e}function X0(t){const e={},n=s(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),a(e,["citations"],o)}return e}function Z0(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["contents"]);if(r!=null){let i=ze(r);Array.isArray(i)&&(i=i.map(l=>l)),a(n,["contents"],i)}return n}function b0(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["tokensInfo"],r)}return e}function j0(t){const e={},n=s(t,["values"]);n!=null&&a(e,["values"],n);const o=s(t,["statistics"]);return o!=null&&a(e,["statistics"],eE(o)),e}function eE(t){const e={},n=s(t,["truncated"]);n!=null&&a(e,["truncated"],n);const o=s(t,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function vi(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uS(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function tE(t){const e={},n=s(t,["controlType"]);n!=null&&a(e,["controlType"],n);const o=s(t,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function nE(t){const e={};if(s(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function oE(t,e){const n={},o=s(t,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],ye(o));const r=s(t,["tools"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Up(u))),a(e,["tools"],l)}const i=s(t,["generationConfig"]);return e!==void 0&&i!=null&&a(e,["generationConfig"],YE(i)),n}function rE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["contents"]);if(r!=null){let l=ze(r);Array.isArray(l)&&(l=l.map(u=>vi(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&nE(i),n}function iE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["contents"]);if(r!=null){let l=ze(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&oE(i,n),n}function sE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const r=s(t,["cachedContentTokenCount"]);return r!=null&&a(e,["cachedContentTokenCount"],r),e}function lE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function aE(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],q(t,o)),n}function uE(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],q(t,o)),n}function cE(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function dE(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}function fE(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&a(e,["parameters","includeSafetyAttributes"],h);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const m=s(t,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const S=s(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&a(e,["parameters","outputOptions","compressionQuality"],S);const T=s(t,["addWatermark"]);e!==void 0&&T!=null&&a(e,["parameters","addWatermark"],T);const y=s(t,["labels"]);e!==void 0&&y!=null&&a(e,["labels"],y);const g=s(t,["editMode"]);e!==void 0&&g!=null&&a(e,["parameters","editMode"],g);const v=s(t,["baseSteps"]);return e!==void 0&&v!=null&&a(e,["parameters","editConfig","baseSteps"],v),n}function pE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>mS(c))),a(n,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&fE(l,n),n}function hE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ei(i))),a(e,["generatedImages"],r)}return e}function mE(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["requests[]","title"],r);const i=s(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&a(e,["requests[]","outputDimensionality"],i),s(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gE(t,e){const n={},o=s(t,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const r=s(t,["title"]);e!==void 0&&r!=null&&a(e,["instances[]","title"],r);const i=s(t,["outputDimensionality"]);e!==void 0&&i!=null&&a(e,["parameters","outputDimensionality"],i);const l=s(t,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(t,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),n}function yE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["contents"]);if(r!=null){let u=la(t,r);Array.isArray(u)&&(u=u.map(c=>c)),a(n,["requests[]","content"],u)}const i=s(e,["config"]);i!=null&&mE(i,n);const l=s(e,["model"]);return l!==void 0&&a(n,["requests[]","model"],q(t,l)),n}function vE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["contents"]);if(r!=null){let l=la(t,r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["instances[]","content"],l)}const i=s(e,["config"]);return i!=null&&gE(i,n),n}function EE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function SE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>j0(l))),a(e,["embeddings"],i)}const r=s(t,["metadata"]);return r!=null&&a(e,["metadata"],r),e}function TE(t){const e={},n=s(t,["endpoint"]);n!=null&&a(e,["name"],n);const o=s(t,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function _E(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function CE(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IE(t){const e={},n=s(t,["allowedFunctionNames"]);n!=null&&a(e,["allowedFunctionNames"],n);const o=s(t,["mode"]);if(o!=null&&a(e,["mode"],o),s(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wE(t){const e={},n=s(t,["description"]);n!=null&&a(e,["description"],n);const o=s(t,["name"]);o!=null&&a(e,["name"],o);const r=s(t,["parameters"]);r!=null&&a(e,["parameters"],r);const i=s(t,["parametersJsonSchema"]);i!=null&&a(e,["parametersJsonSchema"],i);const l=s(t,["response"]);l!=null&&a(e,["response"],l);const u=s(t,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function AE(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],vi(ye(r)));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const T=s(e,["responseMimeType"]);T!=null&&a(o,["responseMimeType"],T);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],aa(y));const g=s(e,["responseJsonSchema"]);if(g!=null&&a(o,["responseJsonSchema"],g),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(e,["safetySettings"]);if(n!==void 0&&v!=null){let z=v;Array.isArray(z)&&(z=z.map(pe=>gS(pe))),a(n,["safetySettings"],z)}const _=s(e,["tools"]);if(n!==void 0&&_!=null){let z=Jn(_);Array.isArray(z)&&(z=z.map(pe=>CS($n(pe)))),a(n,["tools"],z)}const I=s(e,["toolConfig"]);if(n!==void 0&&I!=null&&a(n,["toolConfig"],_S(I)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=s(e,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],Et(t,w));const A=s(e,["responseModalities"]);A!=null&&a(o,["responseModalities"],A);const R=s(e,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const P=s(e,["speechConfig"]);if(P!=null&&a(o,["speechConfig"],ua(P)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=s(e,["thinkingConfig"]);k!=null&&a(o,["thinkingConfig"],k);const H=s(e,["imageConfig"]);H!=null&&a(o,["imageConfig"],jE(H));const ie=s(e,["enableEnhancedCivicAnswers"]);if(ie!=null&&a(o,["enableEnhancedCivicAnswers"],ie),s(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function RE(t,e,n){const o={},r=s(e,["systemInstruction"]);n!==void 0&&r!=null&&a(n,["systemInstruction"],ye(r));const i=s(e,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const m=s(e,["presencePenalty"]);m!=null&&a(o,["presencePenalty"],m);const E=s(e,["frequencyPenalty"]);E!=null&&a(o,["frequencyPenalty"],E);const S=s(e,["seed"]);S!=null&&a(o,["seed"],S);const T=s(e,["responseMimeType"]);T!=null&&a(o,["responseMimeType"],T);const y=s(e,["responseSchema"]);y!=null&&a(o,["responseSchema"],aa(y));const g=s(e,["responseJsonSchema"]);g!=null&&a(o,["responseJsonSchema"],g);const v=s(e,["routingConfig"]);v!=null&&a(o,["routingConfig"],v);const _=s(e,["modelSelectionConfig"]);_!=null&&a(o,["modelConfig"],_);const I=s(e,["safetySettings"]);if(n!==void 0&&I!=null){let F=I;Array.isArray(F)&&(F=F.map(x=>x)),a(n,["safetySettings"],F)}const w=s(e,["tools"]);if(n!==void 0&&w!=null){let F=Jn(w);Array.isArray(F)&&(F=F.map(x=>Up($n(x)))),a(n,["tools"],F)}const A=s(e,["toolConfig"]);n!==void 0&&A!=null&&a(n,["toolConfig"],A);const R=s(e,["labels"]);n!==void 0&&R!=null&&a(n,["labels"],R);const P=s(e,["cachedContent"]);n!==void 0&&P!=null&&a(n,["cachedContent"],Et(t,P));const k=s(e,["responseModalities"]);k!=null&&a(o,["responseModalities"],k);const H=s(e,["mediaResolution"]);H!=null&&a(o,["mediaResolution"],H);const ie=s(e,["speechConfig"]);ie!=null&&a(o,["speechConfig"],ua(ie));const z=s(e,["audioTimestamp"]);z!=null&&a(o,["audioTimestamp"],z);const pe=s(e,["thinkingConfig"]);pe!=null&&a(o,["thinkingConfig"],pe);const un=s(e,["imageConfig"]);if(un!=null&&a(o,["imageConfig"],eS(un)),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const St=s(e,["modelArmorConfig"]);return n!==void 0&&St!=null&&a(n,["modelArmorConfig"],St),o}function Gc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["contents"]);if(r!=null){let l=ze(r);Array.isArray(l)&&(l=l.map(u=>vi(u))),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],AE(t,i,n)),n}function Hc(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["contents"]);if(r!=null){let l=ze(r);Array.isArray(l)&&(l=l.map(u=>u)),a(n,["contents"],l)}const i=s(e,["config"]);return i!=null&&a(n,["generationConfig"],RE(t,i,n)),n}function Bc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>Q0(d))),a(e,["candidates"],c)}const r=s(t,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const i=s(t,["promptFeedback"]);i!=null&&a(e,["promptFeedback"],i);const l=s(t,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(t,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function qc(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["candidates"],d)}const r=s(t,["createTime"]);r!=null&&a(e,["createTime"],r);const i=s(t,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const l=s(t,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(t,["responseId"]);u!=null&&a(e,["responseId"],u);const c=s(t,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function NE(t,e){const n={};if(s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const i=s(t,["guidanceScale"]);if(e!==void 0&&i!=null&&a(e,["parameters","guidanceScale"],i),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(t,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=s(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const d=s(t,["includeRaiReason"]);e!==void 0&&d!=null&&a(e,["parameters","includeRaiReason"],d);const f=s(t,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const h=s(t,["outputMimeType"]);e!==void 0&&h!=null&&a(e,["parameters","outputOptions","mimeType"],h);const p=s(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p),s(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=s(t,["imageSize"]);if(e!==void 0&&m!=null&&a(e,["parameters","sampleImageSize"],m),s(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function xE(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["negativePrompt"]);e!==void 0&&r!=null&&a(e,["parameters","negativePrompt"],r);const i=s(t,["numberOfImages"]);e!==void 0&&i!=null&&a(e,["parameters","sampleCount"],i);const l=s(t,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(t,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(t,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&a(e,["parameters","includeSafetyAttributes"],h);const p=s(t,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const m=s(t,["language"]);e!==void 0&&m!=null&&a(e,["parameters","language"],m);const E=s(t,["outputMimeType"]);e!==void 0&&E!=null&&a(e,["parameters","outputOptions","mimeType"],E);const S=s(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&a(e,["parameters","outputOptions","compressionQuality"],S);const T=s(t,["addWatermark"]);e!==void 0&&T!=null&&a(e,["parameters","addWatermark"],T);const y=s(t,["labels"]);e!==void 0&&y!=null&&a(e,["labels"],y);const g=s(t,["imageSize"]);e!==void 0&&g!=null&&a(e,["parameters","sampleImageSize"],g);const v=s(t,["enhancePrompt"]);return e!==void 0&&v!=null&&a(e,["parameters","enhancePrompt"],v),n}function PE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&NE(i,n),n}function ME(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["config"]);return i!=null&&xE(i,n),n}function kE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>$E(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Dp(r)),e}function DE(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Ei(l))),a(e,["generatedImages"],i)}const r=s(t,["positivePromptSafetyAttributes"]);return r!=null&&a(e,["positivePromptSafetyAttributes"],Lp(r)),e}function LE(t,e){const n={},o=s(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(t,["durationSeconds"]);if(e!==void 0&&r!=null&&a(e,["parameters","durationSeconds"],r),s(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(t,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const l=s(t,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(t,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(t,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const d=s(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&a(e,["parameters","enhancePrompt"],d),s(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(t,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],Si(f));const h=s(t,["referenceImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(m=>FS(m))),a(e,["instances[0]","referenceImages"],p)}if(s(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function UE(t,e){const n={},o=s(t,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const i=s(t,["fps"]);e!==void 0&&i!=null&&a(e,["parameters","fps"],i);const l=s(t,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(t,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=s(t,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(t,["resolution"]);e!==void 0&&d!=null&&a(e,["parameters","resolution"],d);const f=s(t,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(t,["pubsubTopic"]);e!==void 0&&h!=null&&a(e,["parameters","pubsubTopic"],h);const p=s(t,["negativePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","negativePrompt"],p);const m=s(t,["enhancePrompt"]);e!==void 0&&m!=null&&a(e,["parameters","enhancePrompt"],m);const E=s(t,["generateAudio"]);e!==void 0&&E!=null&&a(e,["parameters","generateAudio"],E);const S=s(t,["lastFrame"]);e!==void 0&&S!=null&&a(e,["instances[0]","lastFrame"],tt(S));const T=s(t,["referenceImages"]);if(e!==void 0&&T!=null){let v=T;Array.isArray(v)&&(v=v.map(_=>VS(_))),a(e,["instances[0]","referenceImages"],v)}const y=s(t,["mask"]);e!==void 0&&y!=null&&a(e,["instances[0]","mask"],US(y));const g=s(t,["compressionQuality"]);return e!==void 0&&g!=null&&a(e,["parameters","compressionQuality"],g),n}function FE(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],BE(l)),e}function VE(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],qE(l)),e}function GE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],Si(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Fp(l));const u=s(e,["source"]);u!=null&&zE(u,n);const c=s(e,["config"]);return c!=null&&LE(c,n),n}function HE(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["prompt"]);r!=null&&a(n,["instances[0]","prompt"],r);const i=s(e,["image"]);i!=null&&a(n,["instances[0]","image"],tt(i));const l=s(e,["video"]);l!=null&&a(n,["instances[0]","video"],Vp(l));const u=s(e,["source"]);u!=null&&OE(u,n);const c=s(e,["config"]);return c!=null&&UE(c,n),n}function BE(t){const e={},n=s(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>WE(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function qE(t){const e={},n=s(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>KE(l))),a(e,["generatedVideos"],i)}const o=s(t,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const r=s(t,["raiMediaFilteredReasons"]);return r!=null&&a(e,["raiMediaFilteredReasons"],r),e}function zE(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],Si(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Fp(i)),n}function OE(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],tt(r));const i=s(t,["video"]);return e!==void 0&&i!=null&&a(e,["instances[0]","video"],Vp(i)),n}function $E(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],tS(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);return r!=null&&a(e,["safetyAttributes"],Dp(r)),e}function Ei(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["image"],kp(n));const o=s(t,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const r=s(t,["_self"]);r!=null&&a(e,["safetyAttributes"],Lp(r));const i=s(t,["prompt"]);return i!=null&&a(e,["enhancedPrompt"],i),e}function JE(t){const e={},n=s(t,["_self"]);n!=null&&a(e,["mask"],kp(n));const o=s(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(e,["labels"],r)}return e}function WE(t){const e={},n=s(t,["video"]);return n!=null&&a(e,["video"],DS(n)),e}function KE(t){const e={},n=s(t,["_self"]);return n!=null&&a(e,["video"],LS(n)),e}function YE(t){const e={},n=s(t,["modelSelectionConfig"]);n!=null&&a(e,["modelConfig"],n);const o=s(t,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const r=s(t,["audioTimestamp"]);r!=null&&a(e,["audioTimestamp"],r);const i=s(t,["candidateCount"]);i!=null&&a(e,["candidateCount"],i);const l=s(t,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(t,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(t,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(t,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(t,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const h=s(t,["presencePenalty"]);h!=null&&a(e,["presencePenalty"],h);const p=s(t,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const m=s(t,["responseMimeType"]);m!=null&&a(e,["responseMimeType"],m);const E=s(t,["responseModalities"]);E!=null&&a(e,["responseModalities"],E);const S=s(t,["responseSchema"]);S!=null&&a(e,["responseSchema"],S);const T=s(t,["routingConfig"]);T!=null&&a(e,["routingConfig"],T);const y=s(t,["seed"]);y!=null&&a(e,["seed"],y);const g=s(t,["speechConfig"]);g!=null&&a(e,["speechConfig"],g);const v=s(t,["stopSequences"]);v!=null&&a(e,["stopSequences"],v);const _=s(t,["temperature"]);_!=null&&a(e,["temperature"],_);const I=s(t,["thinkingConfig"]);I!=null&&a(e,["thinkingConfig"],I);const w=s(t,["topK"]);w!=null&&a(e,["topK"],w);const A=s(t,["topP"]);if(A!=null&&a(e,["topP"],A),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function QE(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],q(t,o)),n}function XE(t,e){const n={},o=s(e,["model"]);return o!=null&&a(n,["_url","name"],q(t,o)),n}function ZE(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function bE(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function jE(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function eS(t){const e={},n=s(t,["aspectRatio"]);n!=null&&a(e,["aspectRatio"],n);const o=s(t,["imageSize"]);o!=null&&a(e,["imageSize"],o);const r=s(t,["personGeneration"]);r!=null&&a(e,["personGeneration"],r);const i=s(t,["outputMimeType"]);i!=null&&a(e,["imageOutputOptions","mimeType"],i);const l=s(t,["outputCompressionQuality"]);return l!=null&&a(e,["imageOutputOptions","compressionQuality"],l),e}function tS(t){const e={},n=s(t,["bytesBase64Encoded"]);n!=null&&a(e,["imageBytes"],zt(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function kp(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],zt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function Si(t){const e={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(t,["imageBytes"]);n!=null&&a(e,["bytesBase64Encoded"],zt(n));const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function tt(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],zt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function nS(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],wp(t,u)),o}function oS(t,e,n){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);n!==void 0&&l!=null&&a(n,["_query","filter"],l);const u=s(e,["queryBase"]);return n!==void 0&&u!=null&&a(n,["_url","models_url"],wp(t,u)),o}function rS(t,e){const n={},o=s(e,["config"]);return o!=null&&nS(t,o,n),n}function iS(t,e){const n={},o=s(e,["config"]);return o!=null&&oS(t,o,n),n}function sS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=Ap(r);Array.isArray(i)&&(i=i.map(l=>el(l))),a(e,["models"],i)}return e}function lS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["_self"]);if(r!=null){let i=Ap(r);Array.isArray(i)&&(i=i.map(l=>tl(l))),a(e,["models"],i)}return e}function aS(t){const e={},n=s(t,["maskMode"]);n!=null&&a(e,["maskMode"],n);const o=s(t,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const r=s(t,["maskDilation"]);return r!=null&&a(e,["dilation"],r),e}function el(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["version"]);i!=null&&a(e,["version"],i);const l=s(t,["_self"]);l!=null&&a(e,["tunedModelInfo"],IS(l));const u=s(t,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=s(t,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const d=s(t,["supportedGenerationMethods"]);d!=null&&a(e,["supportedActions"],d);const f=s(t,["temperature"]);f!=null&&a(e,["temperature"],f);const h=s(t,["maxTemperature"]);h!=null&&a(e,["maxTemperature"],h);const p=s(t,["topP"]);p!=null&&a(e,["topP"],p);const m=s(t,["topK"]);m!=null&&a(e,["topK"],m);const E=s(t,["thinking"]);return E!=null&&a(e,["thinking"],E),e}function tl(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["displayName"]);o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);r!=null&&a(e,["description"],r);const i=s(t,["versionId"]);i!=null&&a(e,["version"],i);const l=s(t,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>TE(p))),a(e,["endpoints"],h)}const u=s(t,["labels"]);u!=null&&a(e,["labels"],u);const c=s(t,["_self"]);c!=null&&a(e,["tunedModelInfo"],wS(c));const d=s(t,["defaultCheckpointId"]);d!=null&&a(e,["defaultCheckpointId"],d);const f=s(t,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>p)),a(e,["checkpoints"],h)}return e}function uS(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],_E(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],CE(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],Y0(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function cS(t){const e={},n=s(t,["productImage"]);return n!=null&&a(e,["image"],tt(n)),e}function dS(t,e){const n={},o=s(t,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const r=s(t,["baseSteps"]);e!==void 0&&r!=null&&a(e,["parameters","baseSteps"],r);const i=s(t,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const l=s(t,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=s(t,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const d=s(t,["addWatermark"]);e!==void 0&&d!=null&&a(e,["parameters","addWatermark"],d);const f=s(t,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const h=s(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h);const p=s(t,["enhancePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p);const m=s(t,["labels"]);return e!==void 0&&m!=null&&a(e,["labels"],m),n}function fS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["source"]);r!=null&&hS(r,n);const i=s(e,["config"]);return i!=null&&dS(i,n),n}function pS(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Ei(r))),a(e,["generatedImages"],o)}return e}function hS(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["personImage"]);e!==void 0&&r!=null&&a(e,["instances[0]","personImage","image"],tt(r));const i=s(t,["productImages"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>cS(u))),a(e,["instances[0]","productImages"],l)}return n}function mS(t){const e={},n=s(t,["referenceImage"]);n!=null&&a(e,["referenceImage"],tt(n));const o=s(t,["referenceId"]);o!=null&&a(e,["referenceId"],o);const r=s(t,["referenceType"]);r!=null&&a(e,["referenceType"],r);const i=s(t,["maskImageConfig"]);i!=null&&a(e,["maskImageConfig"],aS(i));const l=s(t,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],tE(l));const u=s(t,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const c=s(t,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],c),e}function Dp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function Lp(t){const e={},n=s(t,["safetyAttributes","categories"]);n!=null&&a(e,["categories"],n);const o=s(t,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const r=s(t,["contentType"]);return r!=null&&a(e,["contentType"],r),e}function gS(t){const e={},n=s(t,["category"]);if(n!=null&&a(e,["category"],n),s(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(t,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function yS(t){const e={},n=s(t,["image"]);return n!=null&&a(e,["image"],tt(n)),e}function vS(t,e){const n={},o=s(t,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const r=s(t,["maxPredictions"]);e!==void 0&&r!=null&&a(e,["parameters","maxPredictions"],r);const i=s(t,["confidenceThreshold"]);e!==void 0&&i!=null&&a(e,["parameters","confidenceThreshold"],i);const l=s(t,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const c=s(t,["labels"]);return e!==void 0&&c!=null&&a(e,["labels"],c),n}function ES(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["source"]);r!=null&&TS(r,n);const i=s(e,["config"]);return i!=null&&vS(i,n),n}function SS(t){const e={},n=s(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>JE(r))),a(e,["generatedMasks"],o)}return e}function TS(t,e){const n={},o=s(t,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const r=s(t,["image"]);e!==void 0&&r!=null&&a(e,["instances[0]","image"],tt(r));const i=s(t,["scribbleImage"]);return e!==void 0&&i!=null&&a(e,["instances[0]","scribble"],yS(i)),n}function _S(t){const e={},n=s(t,["retrievalConfig"]);n!=null&&a(e,["retrievalConfig"],n);const o=s(t,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],IE(o)),e}function CS(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],ZE(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],bE(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function Up(t){const e={},n=s(t,["retrieval"]);n!=null&&a(e,["retrieval"],n);const o=s(t,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=s(t,["codeExecution"]);r!=null&&a(e,["codeExecution"],r);const i=s(t,["enterpriseWebSearch"]);i!=null&&a(e,["enterpriseWebSearch"],i);const l=s(t,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>wE(p))),a(e,["functionDeclarations"],h)}const u=s(t,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(t,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(t,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(t,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function IS(t){const e={},n=s(t,["baseModel"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function wS(t){const e={},n=s(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(e,["baseModel"],n);const o=s(t,["createTime"]);o!=null&&a(e,["createTime"],o);const r=s(t,["updateTime"]);return r!=null&&a(e,["updateTime"],r),e}function AS(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function RS(t,e){const n={},o=s(t,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const r=s(t,["description"]);e!==void 0&&r!=null&&a(e,["description"],r);const i=s(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&a(e,["defaultCheckpointId"],i),n}function NS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","name"],q(t,o));const r=s(e,["config"]);return r!=null&&AS(r,n),n}function xS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["config"]);return r!=null&&RS(r,n),n}function PS(t,e){const n={},o=s(t,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const r=s(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&a(e,["parameters","safetySetting"],r);const i=s(t,["personGeneration"]);e!==void 0&&i!=null&&a(e,["parameters","personGeneration"],i);const l=s(t,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(t,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const c=s(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&a(e,["parameters","outputOptions","compressionQuality"],c);const d=s(t,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=s(t,["labels"]);e!==void 0&&h!=null&&a(e,["labels"],h);const p=s(t,["numberOfImages"]);e!==void 0&&p!=null&&a(e,["parameters","sampleCount"],p);const m=s(t,["mode"]);return e!==void 0&&m!=null&&a(e,["parameters","mode"],m),n}function MS(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["_url","model"],q(t,o));const r=s(e,["image"]);r!=null&&a(n,["instances[0]","image"],tt(r));const i=s(e,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(e,["config"]);return l!=null&&PS(l,n),n}function kS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>Ei(i))),a(e,["generatedImages"],r)}return e}function DS(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["encodedVideo"]);o!=null&&a(e,["videoBytes"],zt(o));const r=s(t,["encoding"]);return r!=null&&a(e,["mimeType"],r),e}function LS(t){const e={},n=s(t,["gcsUri"]);n!=null&&a(e,["uri"],n);const o=s(t,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],zt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}function US(t){const e={},n=s(t,["image"]);n!=null&&a(e,["_self"],tt(n));const o=s(t,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function FS(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],Si(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function VS(t){const e={},n=s(t,["image"]);n!=null&&a(e,["image"],tt(n));const o=s(t,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function Fp(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["uri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["encodedVideo"],zt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["encoding"],r),e}function Vp(t){const e={},n=s(t,["uri"]);n!=null&&a(e,["gcsUri"],n);const o=s(t,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],zt(o));const r=s(t,["mimeType"]);return r!=null&&a(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GS(t,e){const n={},o=s(t,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),n}function HS(t){const e={},n=s(t,["config"]);return n!=null&&GS(n,e),e}function BS(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function qS(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&BS(o,e),e}function zS(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function OS(t,e){const n={},o=s(t,["customMetadata"]);if(e!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["customMetadata"],i)}const r=s(t,["chunkingConfig"]);return e!==void 0&&r!=null&&a(e,["chunkingConfig"],r),n}function $S(t){const e={},n=s(t,["name"]);n!=null&&a(e,["name"],n);const o=s(t,["metadata"]);o!=null&&a(e,["metadata"],o);const r=s(t,["done"]);r!=null&&a(e,["done"],r);const i=s(t,["error"]);i!=null&&a(e,["error"],i);const l=s(t,["response"]);return l!=null&&a(e,["response"],WS(l)),e}function JS(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["fileName"]);o!=null&&a(e,["fileName"],o);const r=s(t,["config"]);return r!=null&&OS(r,e),e}function WS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["parent"]);o!=null&&a(e,["parent"],o);const r=s(t,["documentName"]);return r!=null&&a(e,["documentName"],r),e}function KS(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function YS(t){const e={},n=s(t,["config"]);return n!=null&&KS(n,e),e}function QS(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["fileSearchStores"],i)}return e}function Gp(t,e){const n={},o=s(t,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);const r=s(t,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const i=s(t,["customMetadata"]);if(e!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["customMetadata"],u)}const l=s(t,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),n}function XS(t){const e={},n=s(t,["fileSearchStoreName"]);n!=null&&a(e,["_url","file_search_store_name"],n);const o=s(t,["config"]);return o!=null&&Gp(o,e),e}function ZS(t){const e={},n=s(t,["sdkHttpResponse"]);return n!=null&&a(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bS="Content-Type",jS="X-Server-Timeout",eT="User-Agent",nl="x-goog-api-client",tT="1.38.0",nT=`google-genai-sdk/${tT}`,oT="v1beta1",rT="v1beta";class iT{constructor(e){var n,o,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!u?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:oT}else{if(!this.clientOptions.apiKey)throw new Uo({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:rT,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Xs.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,n),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))r.searchParams.append(l,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(n))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,n),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const i=new AbortController,l=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>i.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=l}return n&&n.extraBody!==null&&sT(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await zc(r),new Zs(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await zc(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return be(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield L(r.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=i.decode(f,{stream:!0});try{const E=JSON.parse(h);if("error"in E){const S=JSON.parse(JSON.stringify(E.error)),T=S.status,y=S.code,g=`got status: ${T}. ${JSON.stringify(E)}`;if(y>=400&&y<600)throw new Uo({message:g,status:y})}}catch(E){if(E.name==="ApiError")throw E}l+=h;let p=-1,m=0;for(;;){p=-1,m=0;for(const T of c){const y=l.indexOf(T);y!==-1&&(p===-1||y<p)&&(p=y,m=T.length)}if(p===-1)break;const E=l.substring(0,p);l=l.substring(p+m);const S=E.trim();if(S.startsWith(u)){const T=S.substring(u.length).trim();try{const y=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield L(new Zs(y))}catch(y){throw new Error(`exception parsing stream chunk ${T}. ${y}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=nT+" "+this.clientOptions.userAgentExtra;return e[eT]=n,e[nl]=n,e[bS]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))o.append(r,i);e.timeout&&e.timeout>0&&o.append(jS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(e);r.sizeBytes=String(l.size);const u=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(e),f=M("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return i.upload(e,h,this)}async uploadFileToFileSearchStore(e,n,o){var r;const i=this.clientOptions.uploader,l=await i.stat(n),u=String(l.size),c=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),h={};o!=null&&Gp(o,h);const p=await this.fetchUploadUrl(d,u,c,f,h,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,i,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function zc(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new Uo({message:r,status:n}):new Error(r)}}function sT(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=o(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lT="mcp_used/unknown";let aT=!1;function Hp(t){for(const e of t)if(uT(e)||typeof e=="object"&&"inputSchema"in e)return!0;return aT}function Bp(t){var e;const n=(e=t[nl])!==null&&e!==void 0?e:"";t[nl]=(n+` ${lT}`).trimStart()}function uT(t){return t!==null&&typeof t=="object"&&t instanceof da}function cT(t){return be(this,arguments,function*(n,o=100){let r,i=0;for(;i<o;){const l=yield L(n.listTools({cursor:r}));for(const u of l.tools)yield yield L(u),i++;if(!l.nextCursor)break;r=l.nextCursor}})}class da{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new da(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,je(cT(f))),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const h=r;l.push(h);const p=h.name;if(i[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);i[p]=f}}catch(h){n={error:h}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),qy(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dT(t,e,n){const o=new Dy;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class fT{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=mT(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(v=>{d=v}),h=e.callbacks,p=function(){d({})},m=this.apiClient,E={onopen:p,onmessage:v=>{dT(m,h.onmessage,v)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(v){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(v){}},S=this.webSocketFactory.create(c,hT(l),E);S.connect(),await f;const g={setup:{model:q(this.apiClient,e.model)}};return S.send(JSON.stringify(g)),new pT(S,this.apiClient)}}class pT{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=G0(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=V0(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(In.PLAY)}pause(){this.sendPlaybackControl(In.PAUSE)}stop(){this.sendPlaybackControl(In.STOP)}resetContext(){this.sendPlaybackControl(In.RESET_CONTEXT)}close(){this.conn.close()}}function hT(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function mT(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yT(t,e,n){const o=new ky;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const i=JSON.parse(r);if(t.isVertexAI()){const l=q0(i);Object.assign(o,l)}else Object.assign(o,i);e(o)}class vT{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new fT(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,i,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&Hp(e.config.tools)&&Bp(h);const p=_T(h);if(this.apiClient.isVertexAI()){const P=this.apiClient.getProject(),k=this.apiClient.getLocation(),H=this.apiClient.getApiKey(),ie=!!P&&!!k||!!H;this.apiClient.getCustomBaseUrl()&&!ie?f=c:(f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f))}else{const P=this.apiClient.getApiKey();let k="BidiGenerateContent",H="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",H="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${k}?${H}=${P}`}let m=()=>{};const E=new Promise(P=>{m=P}),S=e.callbacks,T=function(){var P;(P=S==null?void 0:S.onopen)===null||P===void 0||P.call(S),m({})},y=this.apiClient,g={onopen:T,onmessage:P=>{yT(y,S.onmessage,P)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(P){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(P){}},v=this.webSocketFactory.create(f,TT(p),g);v.connect(),await E;let _=q(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&_.startsWith("publishers/")){const P=this.apiClient.getProject(),k=this.apiClient.getLocation();P&&k&&(_=`projects/${P}/locations/${k}/`+_)}let I={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Qr.AUDIO]}:e.config.responseModalities=[Qr.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],A=[];for(const P of w)if(this.isCallableTool(P)){const k=P;A.push(await k.tool())}else A.push(P);A.length>0&&(e.config.tools=A);const R={model:_,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=F0(this.apiClient,R):I=U0(this.apiClient,R),delete I.config,v.send(JSON.stringify(I)),new ST(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const ET={turnComplete:!0};class ST{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=ze(n.turns),e.isVertexAI()||(o=o.map(r=>vi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(gT)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},ET),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:B0(e)}:n={realtimeInput:H0(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function TT(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function _T(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oc=10;function $c(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Dn(l)){r=!0;break}if(!r)return!0;const i=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Dn(t){return"callTool"in t&&typeof t.callTool=="function"}function CT(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Dn(r)))!==null&&o!==void 0?o:!1}function Jc(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(Dn(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(r)}),n}function Wc(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IT extends vt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,i,l,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!CT(n)||$c(n.config))return await this.generateContentInternal(c);const d=Jc(n);if(d.length>0){const S=d.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let f,h;const p=ze(c.contents),m=(i=(r=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Oc;let E=0;for(;E<m&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const S=f.candidates[0].content,T=[];for(const y of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Dn(y)){const v=await y.callTool(f.functionCalls);T.push(...v)}E++,h={role:"user",parts:T},c.contents=ze(c.contents),c.contents.push(S),c.contents.push(h),Wc(c.config)&&(p.push(S),p.push(h))}return Wc(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async n=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(n),$c(n.config)){const h=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(h)}const c=Jc(n);if(c.length>0){const h=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(i=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:l.push(c);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async n=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new an(gt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,i,l,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(i=n.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const l=await Promise.all(i.map(async c=>Dn(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&Hp(e.config.tools)){const c=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Bp(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,o,r;const i=new Map;for(const l of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Dn(l)){const u=l,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var n,o,r;const i=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Oc;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,h){return be(this,arguments,function*(){for(var p,m,E,S,T,y;u<i;){l&&(u++,l=!1);const I=yield L(d.processParamsMaybeAddMcpUsage(h)),w=yield L(d.generateContentStreamInternal(I)),A=[],R=[];try{for(var g=!0,v=(m=void 0,je(w)),_;_=yield L(v.next()),p=_.done,!p;g=!0){S=_.value,g=!1;const P=S;if(yield yield L(P),P.candidates&&(!((T=P.candidates[0])===null||T===void 0)&&T.content)){R.push(P.candidates[0].content);for(const k of(y=P.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<i&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(k.functionCall.name)){const H=yield L(f.get(k.functionCall.name).callTool([k.functionCall]));A.push(...H)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(P){m={error:P}}finally{try{!g&&!p&&(E=v.return)&&(yield L(E.call(v)))}finally{if(m)throw m.error}}if(A.length>0){l=!0;const P=new to;P.candidates=[{content:{role:"user",parts:A}}],yield yield L(P);const k=[];k.push(...R),k.push({role:"user",parts:A});const H=ze(h.contents).concat(k);h.contents=H}else break}})}(this,c,e)}async generateContentInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Hc(this.apiClient,e);return u=M("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=qc(f),p=new to;return Object.assign(p,h),p})}else{const d=Gc(this.apiClient,e);return u=M("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Bc(f),p=new to;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Hc(this.apiClient,e);return u=M("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(h){return be(this,arguments,function*(){var p,m,E,S;try{for(var T=!0,y=je(h),g;g=yield L(y.next()),p=g.done,!p;T=!0){S=g.value,T=!1;const v=S,_=qc(yield L(v.json()));_.sdkHttpResponse={headers:v.headers};const I=new to;Object.assign(I,_),yield yield L(I)}}catch(v){m={error:v}}finally{try{!T&&!p&&(E=y.return)&&(yield L(E.call(y)))}finally{if(m)throw m.error}}})})}else{const d=Gc(this.apiClient,e);return u=M("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(h){return be(this,arguments,function*(){var p,m,E,S;try{for(var T=!0,y=je(h),g;g=yield L(y.next()),p=g.done,!p;T=!0){S=g.value,T=!1;const v=S,_=Bc(yield L(v.json()));_.sdkHttpResponse={headers:v.headers};const I=new to;Object.assign(I,_),yield yield L(I)}}catch(v){m={error:v}}finally{try{!T&&!p&&(E=y.return)&&(yield L(E.call(y)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=vE(this.apiClient,e);return u=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=SE(f),p=new Tc;return Object.assign(p,h),p})}else{const d=yE(this.apiClient,e);return u=M("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=EE(f),p=new Tc;return Object.assign(p,h),p})}}async generateImagesInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ME(this.apiClient,e);return u=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=DE(f),p=new _c;return Object.assign(p,h),p})}else{const d=PE(this.apiClient,e);return u=M("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=kE(f),p=new _c;return Object.assign(p,h),p})}}async editImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=pE(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=hE(c),f=new Ty;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=MS(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=kS(c),f=new _y;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=fS(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=pS(c),f=new Cy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=ES(this.apiClient,e);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=SS(c),f=new Iy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=XE(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>tl(f))}else{const d=QE(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>el(f))}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=iS(this.apiClient,e);return u=M("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=lS(f),p=new Cc;return Object.assign(p,h),p})}else{const d=rS(this.apiClient,e);return u=M("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=sS(f),p=new Cc;return Object.assign(p,h),p})}}async update(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=xS(this.apiClient,e);return u=M("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>tl(f))}else{const d=NS(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>el(f))}}async delete(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=uE(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=dE(f),p=new Ic;return Object.assign(p,h),p})}else{const d=aE(this.apiClient,e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=cE(f),p=new Ic;return Object.assign(p,h),p})}}async countTokens(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=iE(this.apiClient,e);return u=M("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=lE(f),p=new wc;return Object.assign(p,h),p})}else{const d=rE(this.apiClient,e);return u=M("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=sE(f),p=new wc;return Object.assign(p,h),p})}}async computeTokens(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=Z0(this.apiClient,e);return i=M("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=b0(c),f=new wy;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=HE(this.apiClient,e);return u=M("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const h=VE(f),p=new Xr;return Object.assign(p,h),p})}else{const d=GE(this.apiClient,e);return u=M("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const h=FE(f),p=new Xr;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wT extends vt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=my(e);return u=M("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=hy(e);return u=M("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=ly(e);return i=M("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AT(t){const e={},n=s(t,["data"]);if(n!=null&&a(e,["data"],n),s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function RT(t){const e={},n=s(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>FT(i))),a(e,["parts"],r)}const o=s(t,["role"]);return o!=null&&a(e,["role"],o),e}function NT(t,e,n){const o={},r=s(e,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const l=s(e,["uses"]);n!==void 0&&l!=null&&a(n,["uses"],l);const u=s(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&a(n,["bidiGenerateContentSetup"],UT(t,u));const c=s(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&a(n,["fieldMask"],c),o}function xT(t,e){const n={},o=s(e,["config"]);return o!=null&&a(n,["config"],NT(t,o,n)),n}function PT(t){const e={};if(s(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(t,["fileUri"]);n!=null&&a(e,["fileUri"],n);const o=s(t,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function MT(t){const e={},n=s(t,["id"]);n!=null&&a(e,["id"],n);const o=s(t,["args"]);o!=null&&a(e,["args"],o);const r=s(t,["name"]);if(r!=null&&a(e,["name"],r),s(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kT(t){const e={};if(s(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(t,["enableWidget"]);return n!=null&&a(e,["enableWidget"],n),e}function DT(t){const e={};if(s(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(t,["timeRangeFilter"]);return n!=null&&a(e,["timeRangeFilter"],n),e}function LT(t,e){const n={},o=s(t,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const r=s(t,["responseModalities"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","responseModalities"],r);const i=s(t,["temperature"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","temperature"],i);const l=s(t,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(t,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(t,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(t,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(t,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(t,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],ca(h));const p=s(t,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const m=s(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],m);const E=s(t,["systemInstruction"]);e!==void 0&&E!=null&&a(e,["setup","systemInstruction"],RT(ye(E)));const S=s(t,["tools"]);if(e!==void 0&&S!=null){let w=Jn(S);Array.isArray(w)&&(w=w.map(A=>GT($n(A)))),a(e,["setup","tools"],w)}const T=s(t,["sessionResumption"]);e!==void 0&&T!=null&&a(e,["setup","sessionResumption"],VT(T));const y=s(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&a(e,["setup","inputAudioTranscription"],y);const g=s(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&a(e,["setup","outputAudioTranscription"],g);const v=s(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&a(e,["setup","realtimeInputConfig"],v);const _=s(t,["contextWindowCompression"]);e!==void 0&&_!=null&&a(e,["setup","contextWindowCompression"],_);const I=s(t,["proactivity"]);if(e!==void 0&&I!=null&&a(e,["setup","proactivity"],I),s(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function UT(t,e){const n={},o=s(e,["model"]);o!=null&&a(n,["setup","model"],q(t,o));const r=s(e,["config"]);return r!=null&&a(n,["config"],LT(r,n)),n}function FT(t){const e={},n=s(t,["mediaResolution"]);n!=null&&a(e,["mediaResolution"],n);const o=s(t,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const r=s(t,["executableCode"]);r!=null&&a(e,["executableCode"],r);const i=s(t,["fileData"]);i!=null&&a(e,["fileData"],PT(i));const l=s(t,["functionCall"]);l!=null&&a(e,["functionCall"],MT(l));const u=s(t,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(t,["inlineData"]);c!=null&&a(e,["inlineData"],AT(c));const d=s(t,["text"]);d!=null&&a(e,["text"],d);const f=s(t,["thought"]);f!=null&&a(e,["thought"],f);const h=s(t,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(t,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function VT(t){const e={},n=s(t,["handle"]);if(n!=null&&a(e,["handle"],n),s(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GT(t){const e={};if(s(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(t,["computerUse"]);n!=null&&a(e,["computerUse"],n);const o=s(t,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const r=s(t,["codeExecution"]);if(r!=null&&a(e,["codeExecution"],r),s(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=s(t,["functionDeclarations"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(t,["googleMaps"]);l!=null&&a(e,["googleMaps"],kT(l));const u=s(t,["googleSearch"]);u!=null&&a(e,["googleSearch"],DT(u));const c=s(t,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(t,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HT(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${n}.${i}`);e.push(...r)}else e.push(n)}return e.join(",")}function BT(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const i=HT(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];i&&c.push(i),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class qT extends vt{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=xT(this.apiClient,e);i=M("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=BT(u,e.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zT(t,e){const n={},o=s(t,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),n}function OT(t){const e={},n=s(t,["name"]);n!=null&&a(e,["_url","name"],n);const o=s(t,["config"]);return o!=null&&zT(o,e),e}function $T(t){const e={},n=s(t,["name"]);return n!=null&&a(e,["_url","name"],n),e}function JT(t,e){const n={},o=s(t,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const r=s(t,["pageToken"]);return e!==void 0&&r!=null&&a(e,["_query","pageToken"],r),n}function WT(t){const e={},n=s(t,["parent"]);n!=null&&a(e,["_url","parent"],n);const o=s(t,["config"]);return o!=null&&JT(o,e),e}function KT(t){const e={},n=s(t,["sdkHttpResponse"]);n!=null&&a(e,["sdkHttpResponse"],n);const o=s(t,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const r=s(t,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YT extends vt{constructor(e){super(),this.apiClient=e,this.list=async n=>new an(gt.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$T(e);return i=M("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=OT(e);r=M("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WT(e);return i=M("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=KT(c),f=new Ay;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QT extends vt{constructor(e,n=new YT(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new an(gt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HS(e);return i=M("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zS(e);return i=M("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=qS(e);r=M("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YS(e);return i=M("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=QS(c),f=new Ry;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=XS(e);return i=M("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=ZS(c),f=new Ny;return Object.assign(f,d),f})}}async importFile(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=JS(e);return i=M("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>{const d=$S(c),f=new ia;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qp=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return qp=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const XT=()=>qp();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ol(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const rl=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Je extends Error{}class _e extends Je{constructor(e,n,o,r){super(`${_e.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new Ti({message:o,cause:rl(n)});const i=n;return e===400?new Op(e,i,o,r):e===401?new $p(e,i,o,r):e===403?new Jp(e,i,o,r):e===404?new Wp(e,i,o,r):e===409?new Kp(e,i,o,r):e===422?new Yp(e,i,o,r):e===429?new Qp(e,i,o,r):e>=500?new Xp(e,i,o,r):new _e(e,i,o,r)}}class il extends _e{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ti extends _e{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class zp extends Ti{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Op extends _e{}class $p extends _e{}class Jp extends _e{}class Wp extends _e{}class Kp extends _e{}class Yp extends _e{}class Qp extends _e{}class Xp extends _e{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZT=/^[a-z][a-z0-9+.-]*:/i,bT=t=>ZT.test(t);let sl=t=>(sl=Array.isArray,sl(t));const jT=sl;let e_=jT;const Kc=e_;function t_(t){if(!t)return!0;for(const e in t)return!1;return!0}function n_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const o_=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Je(`${t} must be an integer`);if(e<0)throw new Je(`${t} must be a positive integer`);return e},r_=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i_=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dn="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s_(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const l_=()=>{var t,e,n,o,r;const i=s_();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dn,"X-Stainless-OS":Qc(Deno.build.os),"X-Stainless-Arch":Yc(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dn,"X-Stainless-OS":Qc((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Yc((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const l=a_();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":dn,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function a_(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,i=o[2]||0,l=o[3]||0;return{browser:e,version:`${r}.${i}.${l}`}}}return null}const Yc=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Qc=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let sr;const u_=()=>sr??(sr=l_());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Zp(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function d_(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Zp({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function bp(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function f_(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p_=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jp=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Zi(t,e,n){return jp(),new File(t,e??"unknown_file",n)}function h_(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const m_=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eh=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",g_=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&eh(t),y_=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function v_(t,e,n){if(jp(),t=await t,g_(t))return t instanceof File?t:Zi([await t.arrayBuffer()],t.name);if(y_(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Zi(await ll(r),e,n)}const o=await ll(t);if(e||(e=h_(t)),!(n!=null&&n.type)){const r=o.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Zi(o,e,n)}async function ll(t){var e,n,o,r,i;let l=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)l.push(t);else if(eh(t))l.push(t instanceof Blob?t:await t.arrayBuffer());else if(m_(t))try{for(var u=!0,c=je(t),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const f=r;l.push(...await ll(f))}}catch(f){n={error:f}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(n)throw n.error}}else{const f=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${E_(t)}`)}return l}function E_(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class th{constructor(e){this._client=e}}th._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nh(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Xc=Object.freeze(Object.create(null)),S_=(t=nh)=>function(n,...o){if(n.length===1)return n[0];let r=!1;const i=[],l=n.reduce((f,h,p)=>{var m,E,S;/[?#]/.test(h)&&(r=!0);const T=o[p];let y=(r?encodeURIComponent:t)(""+T);return p!==o.length&&(T==null||typeof T=="object"&&T.toString===((S=Object.getPrototypeOf((E=Object.getPrototypeOf((m=T.hasOwnProperty)!==null&&m!==void 0?m:Xc))!==null&&E!==void 0?E:Xc))===null||S===void 0?void 0:S.toString))&&(y=T+"",i.push({start:f.length+h.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),f+h+(p===o.length?"":y)},""),u=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(u))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,h)=>f.start-h.start),i.length>0){let f=0;const h=i.reduce((p,m)=>{const E=" ".repeat(m.start-f),S="^".repeat(m.length);return f=m.start+m.length,p+E+S},"");throw new Je(`Path parameters result in path with invalid segments:
${i.map(p=>p.error).join(`
`)}
${l}
${h}`)}return l},lr=S_(nh);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oh extends th{create(e,n){var o;const{api_version:r=this._client.apiVersion}=e,i=br(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new Je("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new Je("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(lr`/${r}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(lr`/${r}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(lr`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;const i=n??{},{api_version:l=this._client.apiVersion}=i,u=br(i,["api_version"]);return this._client.get(lr`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}oh._key=Object.freeze(["interactions"]);class rh extends oh{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T_(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let ar;function fa(t){let e;return(ar??(e=new globalThis.TextEncoder,ar=e.encode.bind(e)))(t)}let ur;function Zc(t){let e;return(ur??(e=new globalThis.TextDecoder,ur=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _i{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?fa(e):e;this.buffer=T_([this.buffer,n]);const o=[];let r;for(;(r=__(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(Zc(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,l=Zc(this.buffer.subarray(0,i));o.push(l),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}_i.NEWLINE_CHARS=new Set([`
`,"\r"]);_i.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function __(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function C_(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jr={off:0,error:200,warn:300,info:400,debug:500},bc=(t,e,n)=>{if(t){if(n_(jr,t))return t;Ee(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(jr))}`)}};function lo(){}function cr(t,e,n){return!e||jr[t]>jr[n]?lo:e[t].bind(e)}const I_={error:lo,warn:lo,info:lo,debug:lo};let jc=new WeakMap;function Ee(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return I_;const r=jc.get(n);if(r&&r[0]===o)return r[1];const i={error:cr("error",n,o),warn:cr("warn",n,o),info:cr("info",n,o),debug:cr("debug",n,o)};return jc.set(n,[o,i]),i}const Kt=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wn{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1;const i=o?Ee(o):console;function l(){return be(this,arguments,function*(){var c,d,f,h;if(r)throw new Je("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var m=!0,E=je(w_(e,n)),S;S=yield L(E.next()),c=S.done,!c;m=!0){h=S.value,m=!1;const T=h;if(!p)if(T.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield L(JSON.parse(T.data))}catch(y){throw i.error("Could not parse message into JSON:",T.data),i.error("From chunk:",T.raw),y}}}catch(T){d={error:T}}finally{try{!m&&!c&&(f=E.return)&&(yield L(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(T){if(ol(T))return yield L(void 0);throw T}finally{p||n.abort()}})}return new wn(l,n,o)}static fromReadableStream(e,n,o){let r=!1;function i(){return be(this,arguments,function*(){var c,d,f,h;const p=new _i,m=bp(e);try{for(var E=!0,S=je(m),T;T=yield L(S.next()),c=T.done,!c;E=!0){h=T.value,E=!1;const y=h;for(const g of p.decode(y))yield yield L(g)}}catch(y){d={error:y}}finally{try{!E&&!c&&(f=S.return)&&(yield L(f.call(S)))}finally{if(d)throw d.error}}for(const y of p.flush())yield yield L(y)})}function l(){return be(this,arguments,function*(){var c,d,f,h;if(r)throw new Je("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let p=!1;try{try{for(var m=!0,E=je(i()),S;S=yield L(E.next()),c=S.done,!c;m=!0){h=S.value,m=!1;const T=h;p||T&&(yield yield L(JSON.parse(T)))}}catch(T){d={error:T}}finally{try{!m&&!c&&(f=E.return)&&(yield L(f.call(E)))}finally{if(d)throw d.error}}p=!0}catch(T){if(ol(T))return yield L(void 0);throw T}finally{p||n.abort()}})}return new wn(l,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=i=>({next:()=>{if(i.length===0){const l=o.next();e.push(l),n.push(l)}return i.shift()}});return[new wn(()=>r(e),this.controller,this.client),new wn(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Zp({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:i}=await n.next();if(i)return o.close();const l=fa(JSON.stringify(r)+`
`);o.enqueue(l)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function w_(t,e){return be(this,arguments,function*(){var o,r,i,l;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Je("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Je("Attempted to iterate over a response with no body");const u=new R_,c=new _i,d=bp(t.body);try{for(var f=!0,h=je(A_(d)),p;p=yield L(h.next()),o=p.done,!o;f=!0){l=p.value,f=!1;const m=l;for(const E of c.decode(m)){const S=u.decode(E);S&&(yield yield L(S))}}}catch(m){r={error:m}}finally{try{!f&&!o&&(i=h.return)&&(yield L(i.call(h)))}finally{if(r)throw r.error}}for(const m of c.flush()){const E=u.decode(m);E&&(yield yield L(E))}})}function A_(t){return be(this,arguments,function*(){var n,o,r,i;let l=new Uint8Array;try{for(var u=!0,c=je(t),d;d=yield L(c.next()),n=d.done,!n;u=!0){i=d.value,u=!1;const f=i;if(f==null)continue;const h=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?fa(f):f;let p=new Uint8Array(l.length+h.length);p.set(l),p.set(h,l.length),l=p;let m;for(;(m=C_(l))!==-1;)yield yield L(l.slice(0,m)),l=l.slice(m)}}catch(f){o={error:f}}finally{try{!u&&!n&&(r=c.return)&&(yield L(r.call(c)))}finally{if(o)throw o.error}}l.length>0&&(yield yield L(l))})}class R_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=N_(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function N_(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function x_(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:i}=e,l=await(async()=>{var u;if(e.options.stream)return Ee(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):wn.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),d=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return Ee(t).debug(`[${o}] response parsed`,Kt({retryOfRequestLogID:r,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pa extends Promise{constructor(e,n,o=x_){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new pa(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ih=Symbol("brand.privateNullableHeaders");function*P_(t){if(!t)return;if(ih in t){const{values:o,nulls:r}=t;yield*o.entries();for(const i of r)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Kc(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const i=Kc(o[1])?o[1]:[o[1]];let l=!1;for(const u of i)u!==void 0&&(e&&!l&&(l=!0,yield[r,null]),yield[r,u])}}const no=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[i,l]of P_(o)){const u=i.toLowerCase();r.has(u)||(e.delete(i),r.add(u)),l===null?(e.delete(i),n.add(u)):(e.append(i,l),n.delete(u))}}return{[ih]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bi=t=>{var e,n,o,r,i,l;if(typeof globalThis.process<"u")return(o=(n=(e=ty)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(i=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||i===void 0?void 0:i.call(r,t))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var sh;class Ci{constructor(e){var n,o,r,i,l,u,c,{baseURL:d=bi("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(n=bi("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:h="v1beta"}=e,p=br(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:f,apiVersion:h},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(o=m.timeout)!==null&&o!==void 0?o:Ci.DEFAULT_TIMEOUT,this.logger=(r=m.logger)!==null&&r!==void 0?r:console;const E="warn";this.logLevel=E,this.logLevel=(l=(i=bc(m.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:bc(bi("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:E,this.fetchOptions=m.fetchOptions,this.maxRetries=(u=m.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=m.fetch)!==null&&c!==void 0?c:c_(),this.encoder=p_,this._options=m,this.apiKey=f,this.apiVersion=h,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=no([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return no([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return no([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new Je(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${dn}`}defaultIdempotencyKey(){return`stainless-node-retry-${XT()}`}makeStatusError(e,n,o,r){return _e.generate(e,n,o,r)}buildURL(e,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,i=bT(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return t_(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new pa(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var r,i,l;const u=await e,c=(r=u.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:d,url:f,timeout:h}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(d,{url:f,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=o===void 0?"":`, retryOf: ${o}`,E=Date.now();if(Ee(this).debug(`[${p}] sending request`,Kt({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:d.headers})),!((i=u.signal)===null||i===void 0)&&i.aborted)throw new il;const S=new AbortController,T=await this.fetchWithTimeout(f,d,h,S).catch(rl),y=Date.now();if(T instanceof globalThis.Error){const v=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new il;const _=ol(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return Ee(this).info(`[${p}] connection ${_?"timed out":"failed"} - ${v}`),Ee(this).debug(`[${p}] connection ${_?"timed out":"failed"} (${v})`,Kt({retryOfRequestLogID:o,url:f,durationMs:y-E,message:T.message})),this.retryRequest(u,n,o??p);throw Ee(this).info(`[${p}] connection ${_?"timed out":"failed"} - error; no more retries left`),Ee(this).debug(`[${p}] connection ${_?"timed out":"failed"} (error; no more retries left)`,Kt({retryOfRequestLogID:o,url:f,durationMs:y-E,message:T.message})),_?new zp:new Ti({cause:T})}const g=`[${p}${m}] ${d.method} ${f} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${y-E}ms`;if(!T.ok){const v=await this.shouldRetry(T);if(n&&v){const P=`retrying, ${n} attempts remaining`;return await f_(T.body),Ee(this).info(`${g} - ${P}`),Ee(this).debug(`[${p}] response error (${P})`,Kt({retryOfRequestLogID:o,url:T.url,status:T.status,headers:T.headers,durationMs:y-E})),this.retryRequest(u,n,o??p,T.headers)}const _=v?"error; no more retries left":"error; not retryable";Ee(this).info(`${g} - ${_}`);const I=await T.text().catch(P=>rl(P).message),w=r_(I),A=w?void 0:I;throw Ee(this).debug(`[${p}] response error (${_})`,Kt({retryOfRequestLogID:o,url:T.url,status:T.status,headers:T.headers,message:A,durationMs:Date.now()-E})),this.makeStatusError(T.status,w,A,T.headers)}return Ee(this).info(g),Ee(this).debug(`[${p}] response start`,Kt({retryOfRequestLogID:o,url:T.url,status:T.status,headers:T.headers,durationMs:y-E})),{response:T,options:u,controller:S,requestLogID:p,retryOfRequestLogID:o,startTime:E}}async fetchWithTimeout(e,n,o,r){const i=n||{},{signal:l,method:u}=i,c=br(i,["signal","method"]);l&&l.addEventListener("abort",()=>r.abort());const d=setTimeout(()=>r.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h=Object.assign(Object.assign(Object.assign({signal:r.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);u&&(h.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){var i;let l;const u=r==null?void 0:r.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const c=r==null?void 0:r.get("retry-after");if(c&&!l){const d=parseFloat(c);Number.isNaN(d)?l=Date.parse(c)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await i_(l),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,l=Math.min(.5*Math.pow(2,i),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,r,i;const l=Object.assign({},e),{method:u,path:c,query:d,defaultBaseURL:f}=l,h=this.buildURL(c,d,f);"timeout"in l&&o_("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:m}=this.buildBody({options:l}),E=await this.buildHeaders({options:e,method:u,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:E},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(i=l.fetchOptions)!==null&&i!==void 0?i:{}),url:h,timeout:l.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let u=no([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),u_()),this._options.defaultHeaders,o,e.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=no([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:d_(e)}:this.encoder({body:e,headers:o})}}Ci.DEFAULT_TIMEOUT=6e4;class ue extends Ci{constructor(){super(...arguments),this.interactions=new rh(this)}}sh=ue;ue.GeminiNextGenAPIClient=sh;ue.GeminiNextGenAPIClientError=Je;ue.APIError=_e;ue.APIConnectionError=Ti;ue.APIConnectionTimeoutError=zp;ue.APIUserAbortError=il;ue.NotFoundError=Wp;ue.ConflictError=Kp;ue.RateLimitError=Qp;ue.BadRequestError=Op;ue.AuthenticationError=$p;ue.InternalServerError=Xp;ue.PermissionDeniedError=Jp;ue.UnprocessableEntityError=Yp;ue.toFile=v_;ue.Interactions=rh;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M_(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function k_(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function D_(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function L_(t,e){const n={},o=s(t,["sdkHttpResponse"]);return o!=null&&a(n,["sdkHttpResponse"],o),n}function U_(t,e,n){const o={};if(s(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&a(e,["displayName"],r),s(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(t,["epochCount"]);e!==void 0&&i!=null&&a(e,["tuningTask","hyperparameters","epochCount"],i);const l=s(t,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(t,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const c=s(t,["learningRate"]);if(e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","learningRate"],c),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function F_(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=s(t,["validationDataset"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec"],ed(m))}else if(r==="PREFERENCE_TUNING"){const m=s(t,["validationDataset"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec"],ed(m))}const i=s(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&a(e,["tunedModelDisplayName"],i);const l=s(t,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=s(t,["epochCount"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(u==="PREFERENCE_TUNING"){const m=s(t,["epochCount"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=s(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(c==="PREFERENCE_TUNING"){const m=s(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const m=s(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(d==="PREFERENCE_TUNING"){const m=s(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=s(t,["adapterSize"]);e!==void 0&&m!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(f==="PREFERENCE_TUNING"){const m=s(t,["adapterSize"]);e!==void 0&&m!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(s(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=s(t,["labels"]);e!==void 0&&h!=null&&a(e,["labels"],h);const p=s(t,["beta"]);return e!==void 0&&p!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function V_(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&Y_(i);const l=s(t,["config"]);return l!=null&&U_(l,n),n}function G_(t,e){const n={},o=s(t,["baseModel"]);o!=null&&a(n,["baseModel"],o);const r=s(t,["preTunedModel"]);r!=null&&a(n,["preTunedModel"],r);const i=s(t,["trainingDataset"]);i!=null&&Q_(i,n,e);const l=s(t,["config"]);return l!=null&&F_(l,n,e),n}function H_(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function B_(t,e){const n={},o=s(t,["name"]);return o!=null&&a(n,["_url","name"],o),n}function q_(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function z_(t,e,n){const o={},r=s(t,["pageSize"]);e!==void 0&&r!=null&&a(e,["_query","pageSize"],r);const i=s(t,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const l=s(t,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function O_(t,e){const n={},o=s(t,["config"]);return o!=null&&q_(o,n),n}function $_(t,e){const n={},o=s(t,["config"]);return o!=null&&z_(o,n),n}function J_(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>lh(u))),a(n,["tuningJobs"],l)}return n}function W_(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["nextPageToken"]);r!=null&&a(n,["nextPageToken"],r);const i=s(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>al(u))),a(n,["tuningJobs"],l)}return n}function K_(t,e){const n={},o=s(t,["name"]);o!=null&&a(n,["model"],o);const r=s(t,["name"]);return r!=null&&a(n,["endpoint"],r),n}function Y_(t,e){const n={};if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["examples","examples"],r)}return n}function Q_(t,e,n){const o={};let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(t,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function lh(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],Cp(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["tuningTask","startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["tuningTask","completeTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["description"]);f!=null&&a(n,["description"],f);const h=s(t,["baseModel"]);h!=null&&a(n,["baseModel"],h);const p=s(t,["_self"]);return p!=null&&a(n,["tunedModel"],K_(p)),n}function al(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["state"]);i!=null&&a(n,["state"],Cp(i));const l=s(t,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(t,["startTime"]);u!=null&&a(n,["startTime"],u);const c=s(t,["endTime"]);c!=null&&a(n,["endTime"],c);const d=s(t,["updateTime"]);d!=null&&a(n,["updateTime"],d);const f=s(t,["error"]);f!=null&&a(n,["error"],f);const h=s(t,["description"]);h!=null&&a(n,["description"],h);const p=s(t,["baseModel"]);p!=null&&a(n,["baseModel"],p);const m=s(t,["tunedModel"]);m!=null&&a(n,["tunedModel"],m);const E=s(t,["preTunedModel"]);E!=null&&a(n,["preTunedModel"],E);const S=s(t,["supervisedTuningSpec"]);S!=null&&a(n,["supervisedTuningSpec"],S);const T=s(t,["preferenceOptimizationSpec"]);T!=null&&a(n,["preferenceOptimizationSpec"],T);const y=s(t,["tuningDataStats"]);y!=null&&a(n,["tuningDataStats"],y);const g=s(t,["encryptionSpec"]);g!=null&&a(n,["encryptionSpec"],g);const v=s(t,["partnerModelTuningSpec"]);v!=null&&a(n,["partnerModelTuningSpec"],v);const _=s(t,["customBaseModel"]);_!=null&&a(n,["customBaseModel"],_);const I=s(t,["experiment"]);I!=null&&a(n,["experiment"],I);const w=s(t,["labels"]);w!=null&&a(n,["labels"],w);const A=s(t,["outputUri"]);A!=null&&a(n,["outputUri"],A);const R=s(t,["pipelineJob"]);R!=null&&a(n,["pipelineJob"],R);const P=s(t,["serviceAccount"]);P!=null&&a(n,["serviceAccount"],P);const k=s(t,["tunedModelDisplayName"]);k!=null&&a(n,["tunedModelDisplayName"],k);const H=s(t,["veoTuningSpec"]);return H!=null&&a(n,["veoTuningSpec"],H),n}function X_(t,e){const n={},o=s(t,["sdkHttpResponse"]);o!=null&&a(n,["sdkHttpResponse"],o);const r=s(t,["name"]);r!=null&&a(n,["name"],r);const i=s(t,["metadata"]);i!=null&&a(n,["metadata"],i);const l=s(t,["done"]);l!=null&&a(n,["done"],l);const u=s(t,["error"]);return u!=null&&a(n,["error"],u),n}function ed(t,e){const n={},o=s(t,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const r=s(t,["vertexDatasetResource"]);return r!=null&&a(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z_ extends vt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new an(gt.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Qs.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=B_(e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>al(f))}else{const d=H_(e);return u=M("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>lh(f))}}async listInternal(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$_(e);return u=M("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=W_(f),p=new Ac;return Object.assign(p,h),p})}else{const d=O_(e);return u=M("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=J_(f),p=new Ac;return Object.assign(p,h),p})}}async cancel(e){var n,o,r,i;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=k_(e);return u=M("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=L_(f),p=new Rc;return Object.assign(p,h),p})}else{const d=M_(e);return u=M("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=D_(f),p=new Rc;return Object.assign(p,h),p})}}async tuneInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=G_(e,e);return i=M("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>al(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=V_(e);return i=M("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>X_(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b_{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const j_=1024*1024*8,eC=3,tC=1e3,nC=2,ei="x-goog-upload-status";async function oC(t,e,n){var o;const r=await ah(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[ei])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function rC(t,e,n){var o;const r=await ah(t,e,n),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[ei])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=yp(i),u=new sa;return Object.assign(u,l),u}async function ah(t,e,n){var o,r;let i=0,l=0,u=new Zs(new Response),c="upload";for(i=t.size;l<i;){const d=Math.min(j_,i-l),f=t.slice(l,l+d);l+d>=i&&(c+=", finalize");let h=0,p=tC;for(;h<eC&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[ei]));)h++,await sC(p),p=p*nC;if(l+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[ei])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function iC(t){return{size:t.size,type:t.type}}function sC(t){return new Promise(e=>setTimeout(e,t))}class lC{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oC(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rC(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iC(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aC{create(e,n,o){return new uC(e,n,o)}}class uC{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const td="x-goog-api-key";class cC{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(td)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(td,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dC="gl-node/";class fC{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new ue({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=iy(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new cC(this.apiKey);this.apiClient=new iT({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:dC+"web",uploader:new lC,downloader:new b_}),this.models=new IT(this.apiClient),this.live=new vT(this.apiClient,r,new aC),this.batches=new Lv(this.apiClient),this.chats=new m0(this.models,this.apiClient),this.caches=new f0(this.apiClient),this.files=new w0(this.apiClient),this.operations=new wT(this.apiClient),this.authTokens=new qT(this.apiClient),this.tunings=new Z_(this.apiClient),this.fileSearchStores=new QT(this.apiClient)}}var uh={};const pC=uh.API_KEY,hC=uh.SILICONFLOW_API_KEY,mC="https://api.siliconflow.cn/v1/chat/completions",gC=async(t,e,n,o,r,i,l)=>{if(!t.trim())return"";const u=rn[o];let c="";r===we.CHINESE?c=`
    - OUTPUT LANGUAGE: Simplified Chinese ().
    - STYLE RULES (Chinese):
      - Format: Native IM Chat (WeChat/DingTalk).
      - Tone: Natural, grounded ().
      - PROHIBITED: "Translationese" (e.g., avoid "", "", "deeply regret"). Avoid robotic/stiff phrasing that sounds like translated English.
      - If Persona is Advisor/Boss: Be professional but concise.
    `:c=`
    - OUTPUT LANGUAGE: English.
    - STYLE RULES (English):
      - Format: Native IM Chat (Slack/Teams).
      - Tone: Idiomatic, professional but not stiff.
      - PROHIBITED: Textbook English. Make it sound like a native speaker (2024 style).
    `;const d=`You are a sophisticated communication assistant helping a user write a reply in an IM Chat context.
  
GLOBAL RULES (MUST FOLLOW):
${c}
- PROHIBITED: Do not include email headers (Subject, Dear X) or sign-offs (Sincerely) unless specifically asked. This is Instant Messaging.
- Tone Nuance: Use [Inner Thoughts] ONLY to adjust the emotional tone.
- SAFETY RULE: If [Inner Thoughts] contains negative emotions (anger, sarcasm, laziness), convert them into socially acceptable, high-EQ professional language.

ANTI-DILUTION & SLANG PROTECTION PROTOCOL:
1. Preserve the Vibe: If the user's draft is a short slang term (e.g., "", "", "", ""), DO NOT explain it. DO NOT turn it into a formal sentence.
2. No "Captain Obvious": Do not state facts that are visible in the context. (Bad: "Wow, that is very crowded." -> Good: "This is ridiculous.")
3. No "HR Speak": Unless the style is explicitly "Official Announcement", NEVER use phrases like "" (thanks for overcoming), "" (resources are tight), or "" (improve efficiency). It sounds patronizing.
4. Reaction Rule: If User Input = Short Exclamation ("") AND Context = Negative situation -> Lean into Sarcasm or Shock. Match the shortness of the input.

TARGET PERSONA SPECIFICS:
Target: ${u.label}
Instruction: ${u.promptInstruction}
`,f=`
INPUT DATA:
1. INCOMING MESSAGE (Context):
"${e.trim()||"No context provided"}"

2. USER DRAFT (Content Source - Strictly follow facts here):
"${t}"

3. INNER THOUGHTS (Tone Modifier - Do not output explicitly):
"${n.trim()||"No internal thoughts provided"}"

TASK:
Write the response based on the User Draft and Context, applying the Persona and Language Rules. Return ONLY the rewritten message text.
`;return i===ne.OPENAI?await vC(d,f,l):await yC(d,f,l)};async function yC(t,e,n){const o=n.apiKey||pC;if(!o)return"Error: Google API Key is missing. Please configure it in Settings.";try{const r={apiKey:o};return n.baseUrl&&n.baseUrl.trim()&&(r.baseUrl=n.baseUrl.trim()),(await new fC(r).models.generateContent({model:n.model||"gemini-3-flash-preview",contents:e,config:{systemInstruction:t}})).text||"Could not generate response."}catch(r){return console.error("Gemini API Error:",r),"An error occurred with Google Gemini. Check your API Key and connection."}}async function vC(t,e,n){var i,l,u,c;const o=n.apiKey||hC;if(!o)return"Error: API Key is missing. Please configure it in Settings.";const r=n.baseUrl||mC;try{const d=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({model:n.model||"deepseek-ai/DeepSeek-V3",messages:[{role:"system",content:t},{role:"user",content:e}],stream:!1,temperature:.7,max_tokens:2048,top_p:.9})});if(!d.ok){const h=await d.text();console.error("OpenAI Compatible API Error Raw:",h);let p=`Status ${d.status}`;try{const m=JSON.parse(h);p=((i=m.error)==null?void 0:i.message)||m.message||p}catch{p=h.substring(0,100)+(h.length>100?"...":"")}return`Error: API Request failed. ${p}. Please check your API Key, Base URL, and Model Name in settings.`}return((c=(u=(l=(await d.json()).choices)==null?void 0:l[0])==null?void 0:u.message)==null?void 0:c.content)||"Could not generate response from the provider."}catch(d){return console.error("Network Error:",d),"Network error occurred. Please check your internet connection and API URL."}}const ti=({children:t,isLoading:e,variant:n="primary",fullWidth:o=!1,className:r="",disabled:i,...l})=>{const u="inline-flex items-center justify-center rounded-xl px-4 py-3 text-sm font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",c={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 shadow-md shadow-primary-500/20",secondary:"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50 focus:ring-gray-200 shadow-sm",ghost:"text-gray-500 hover:text-gray-700 hover:bg-gray-100"};return C.jsxs("button",{className:`${u} ${c[n]} ${o?"w-full":""} ${r}`,disabled:e||i,...l,children:[e&&C.jsx(Qg,{className:"mr-2 h-4 w-4 animate-spin"}),t]})},EC=({selectedPersona:t,onSelect:e,disabled:n,language:o})=>{const[r,i]=O.useState(!1),l=O.useRef(null),u=oa[o],c=rn[t];O.useEffect(()=>{const f=h=>{l.current&&!l.current.contains(h.target)&&i(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const d=f=>{e(f),i(!1)};return C.jsxs("div",{className:"space-y-2 relative",ref:l,children:[C.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 5px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),C.jsx("label",{className:"text-sm font-medium text-gray-700 block",children:u.selectPersona}),C.jsxs("div",{className:"relative",children:[C.jsxs("button",{type:"button",onClick:()=>!n&&i(!r),disabled:n,className:`
            w-full flex items-center justify-between p-3 
            bg-white border rounded-xl shadow-sm transition-all text-left
            ${r?"border-primary-500 ring-1 ring-primary-500":"border-gray-200 hover:border-primary-400"}
            disabled:opacity-60 disabled:cursor-not-allowed
          `,children:[C.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[C.jsx("span",{className:"text-xl flex-shrink-0",children:c.icon}),C.jsxs("div",{className:"flex flex-col min-w-0",children:[C.jsx("span",{className:"text-sm font-semibold text-gray-900 truncate",children:o===we.CHINESE?c.labelZh:c.label}),C.jsx("span",{className:"text-xs text-gray-500 truncate",children:o===we.CHINESE?c.descriptionZh:c.description})]})]}),C.jsx($g,{className:`h-5 w-5 text-gray-400 flex-shrink-0 transition-transform duration-200 ${r?"rotate-180":""}`})]}),r&&C.jsx("div",{className:"custom-scrollbar absolute z-50 w-full mt-2 bg-white border border-gray-100 rounded-xl shadow-xl max-h-72 overflow-y-auto animate-in fade-in zoom-in-95 duration-100 ring-1 ring-black ring-opacity-5",children:C.jsx("div",{className:"p-1",children:gp.map(f=>{const h=rn[f],p=t===h.id;return C.jsxs("button",{onClick:()=>d(h.id),className:`
                      w-full flex items-center justify-between p-2.5 rounded-lg mb-0.5 transition-colors
                      ${p?"bg-primary-50":"hover:bg-gray-50"}
                    `,children:[C.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[C.jsx("span",{className:"text-xl flex-shrink-0",children:h.icon}),C.jsxs("div",{className:"text-left flex flex-col min-w-0",children:[C.jsx("span",{className:`text-sm font-semibold truncate ${p?"text-primary-900":"text-gray-900"}`,children:o===we.CHINESE?h.labelZh:h.label}),C.jsx("span",{className:"text-xs text-gray-500 truncate",children:o===we.CHINESE?h.descriptionZh:h.description})]})]}),p&&C.jsx(Og,{className:"h-4 w-4 text-primary-600 flex-shrink-0"})]},h.id)})})})]})]})},SC=({isOpen:t,onClose:e,language:n,provider:o,config:r,defaultPersona:i,onSave:l,onSaveDefaultPersona:u})=>{const[c,d]=O.useState(r),[f,h]=O.useState(i),p=oa[n];if(O.useEffect(()=>{t&&(d(r),h(i))},[t,r,i]),!t)return null;const m=()=>{l(c),u(f),e()},E=()=>{d(Ks[o])};return C.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:C.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100 bg-gray-50/50",children:[C.jsx("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:p.settings}),C.jsx("button",{onClick:e,className:"p-1 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:C.jsx(ey,{className:"h-5 w-5"})})]}),C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{className:"space-y-3",children:[C.jsx("div",{className:"space-y-1",children:C.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:p.generalSettings})}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-medium text-gray-700",children:p.defaultPersona}),C.jsxs("div",{className:"relative",children:[C.jsx("select",{value:f,onChange:S=>h(S.target.value),className:"w-full p-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-all appearance-none bg-gray-50",children:gp.map(S=>C.jsx("option",{value:S,children:n===we.CHINESE?rn[S].labelZh:rn[S].label},S))}),C.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:C.jsx("svg",{className:"h-4 w-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:C.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]}),C.jsx("hr",{className:"border-gray-100"}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"space-y-1",children:[C.jsxs("h3",{className:"text-sm font-semibold text-gray-900",children:[p.configFor," ",o]}),C.jsx("p",{className:"text-xs text-gray-500",children:o===ne.GOOGLE?"Configure your Google Gemini connection.":"Configure any OpenAI-compatible API (SiliconFlow, DeepSeek, local LLMs, etc.)."})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-medium text-gray-700",children:p.apiKey}),C.jsx("input",{type:"password",value:c.apiKey,onChange:S=>d({...c,apiKey:S.target.value}),placeholder:p.placeholderKey,className:"w-full p-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-all"})]}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-medium text-gray-700",children:p.baseUrl}),C.jsx("input",{type:"text",value:c.baseUrl||"",onChange:S=>d({...c,baseUrl:S.target.value}),placeholder:o===ne.GOOGLE?"e.g. https://generativelanguage.googleapis.com (Optional)":p.placeholderBaseUrl,className:"w-full p-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-all font-mono text-gray-600 bg-gray-50"})]}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-medium text-gray-700",children:p.modelName}),C.jsx("input",{type:"text",value:c.model,onChange:S=>d({...c,model:S.target.value}),placeholder:p.placeholderModel,className:"w-full p-2.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none transition-all font-mono text-gray-600 bg-gray-50"})]})]}),C.jsx("div",{className:"pt-2",children:C.jsxs("button",{onClick:E,className:"text-xs text-gray-400 hover:text-primary-600 flex items-center gap-1 transition-colors",children:[C.jsx(Zg,{className:"h-3 w-3"}),p.reset]})})]})]}),C.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex gap-3 justify-end",children:[C.jsx(ti,{variant:"secondary",onClick:e,className:"h-9 px-4 py-0",children:p.cancel}),C.jsx(ti,{onClick:m,className:"h-9 px-4 py-0",children:p.save})]})]})})},ji=({value:t,onValueChange:e,className:n,minHeight:o="50px",style:r,...i})=>{const l=O.useRef(null);return O.useEffect(()=>{const u=l.current;u&&(u.style.height="auto",u.style.height=`${Math.max(u.scrollHeight,parseInt(o))}px`)},[t,o]),C.jsx("textarea",{ref:l,value:t,onChange:u=>e(u.target.value),className:`overflow-hidden resize-none transition-height duration-100 ease-out ${n}`,rows:1,style:{...r,minHeight:o},...i})},TC=()=>{const[t,e]=O.useState(""),[n,o]=O.useState(""),[r,i]=O.useState(""),[l,u]=O.useState(""),[c,d]=O.useState(!1),[f,h]=O.useState(()=>localStorage.getItem("replyPolisher_defaultPersona")||mp.BOSS),[p,m]=O.useState(()=>{const F=localStorage.getItem("replyPolisher_provider");return F&&Object.values(ne).includes(F)?F:ne.GOOGLE}),[E,S]=O.useState(f),[T,y]=O.useState(!1),[g,v]=O.useState(!1),[_,I]=O.useState(we.CHINESE),[w,A]=O.useState(()=>{const F=localStorage.getItem("replyPolisherConfig");if(F)try{const x=JSON.parse(F),U={...Ks,...x};return x["SiliconFlow (DeepSeek)"]&&!x["OpenAI Compatible"]&&(U[ne.OPENAI]=x["SiliconFlow (DeepSeek)"]),U}catch(x){console.error("Failed to parse config",x)}return Ks}),R=oa[_],P=!n.trim()||T;O.useEffect(()=>{localStorage.setItem("replyPolisherConfig",JSON.stringify(w))},[w]),O.useEffect(()=>{localStorage.setItem("replyPolisher_provider",p)},[p]);const k=()=>{I(F=>F===we.ENGLISH?we.CHINESE:we.ENGLISH)},H=()=>{m(F=>F===ne.GOOGLE?ne.OPENAI:ne.GOOGLE)},ie=F=>{A(x=>({...x,[p]:F}))},z=F=>{h(F),localStorage.setItem("replyPolisher_defaultPersona",F)},pe=async()=>{if(!P){y(!0),u("");try{const F=await gC(n,t,r,E,_,p,w[p]);u(F)}catch(F){console.error(F),u("An unexpected error occurred.")}finally{y(!1)}}},un=async()=>{if(l)try{await navigator.clipboard.writeText(l),v(!0),setTimeout(()=>v(!1),2e3)}catch(F){console.error("Failed to copy:",F)}},St=()=>{e(""),o(""),i(""),u(""),v(!1)};return O.useEffect(()=>{const F=x=>{(x.metaKey||x.ctrlKey)&&x.key==="Enter"&&!P&&!c&&pe()};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[n,t,r,E,T,_,P,p,w,c]),C.jsxs("div",{className:`min-h-screen bg-gray-50/50 py-6 px-4 flex justify-center transition-all ${_===we.CHINESE?"font-sc":"font-sans"}`,children:[C.jsx(SC,{isOpen:c,onClose:()=>d(!1),language:_,provider:p,config:w[p],defaultPersona:f,onSave:ie,onSaveDefaultPersona:z}),C.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[C.jsx("button",{onClick:()=>d(!0),className:"flex items-center justify-center w-8 h-8 bg-white rounded-lg shadow-sm border border-gray-200 hover:bg-gray-50 hover:text-primary-600 transition-colors text-gray-500",title:R.settings,children:C.jsx(bg,{className:"h-4 w-4"})}),C.jsxs("button",{onClick:H,className:`
            flex items-center gap-2 px-3 py-1.5 rounded-lg shadow-sm border transition-colors text-xs font-semibold
            ${p===ne.OPENAI?"bg-purple-50 border-purple-200 text-purple-700 hover:bg-purple-100":"bg-white border-gray-200 text-gray-600 hover:bg-gray-50 hover:text-primary-600"}
          `,title:`Current Provider: ${p}`,children:[C.jsx(Wg,{className:"h-3.5 w-3.5"}),p===ne.OPENAI?"OpenAI":"Gemini"]}),C.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-3 py-1.5 bg-white rounded-lg shadow-sm border border-gray-200 hover:bg-gray-50 hover:text-primary-600 transition-colors text-xs font-semibold text-gray-600",children:[C.jsx(Yg,{className:"h-3.5 w-3.5"}),_===we.ENGLISH?"":"English"]})]}),C.jsxs("div",{className:"w-full max-w-3xl space-y-6 mt-6",children:[C.jsxs("div",{className:"text-center space-y-1",children:[C.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[C.jsx("div",{className:`p-1.5 rounded-lg shadow-md transition-colors ${p===ne.OPENAI?"bg-purple-600":"bg-primary-600"}`,children:C.jsx(Xg,{className:"h-5 w-5 text-white"})}),C.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:R.title})]}),C.jsx("p",{className:"text-sm text-gray-500 max-w-md mx-auto",children:R.subtitle})]}),C.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100/80",children:C.jsxs("div",{className:"p-5 md:p-6 space-y-5",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex justify-between items-end",children:[C.jsx("h2",{className:"text-base font-semibold text-gray-900",children:R.messageDetails}),(n||t||r)&&C.jsxs("button",{onClick:St,className:"text-xs font-medium text-gray-400 hover:text-red-500 flex items-center transition-colors px-2 py-1 rounded hover:bg-red-50",children:[C.jsx(Kg,{className:"h-3 w-3 mr-1"}),R.clearAll]})]}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-medium text-gray-500 flex items-center gap-2 uppercase tracking-wide",children:R.contextLabel}),C.jsx(ji,{minHeight:"48px",className:"w-full p-3 text-sm text-gray-700 placeholder-gray-400 bg-slate-50 border border-slate-200 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-opacity-20 transition-all",placeholder:R.contextPlaceholder,value:t,onValueChange:e})]}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:R.draftLabel}),C.jsx(ji,{minHeight:"80px",className:"w-full p-3 text-base text-gray-900 placeholder-gray-400 bg-white border border-gray-300 rounded-lg focus:border-primary-500 focus:ring-2 focus:ring-primary-500 focus:ring-opacity-20 transition-all shadow-sm",placeholder:R.draftPlaceholder,value:n,onValueChange:o,autoFocus:!0})]}),C.jsxs("div",{className:"space-y-1.5",children:[C.jsxs("label",{className:"text-xs font-medium text-indigo-400 flex items-center gap-1 uppercase tracking-wide",children:[C.jsx(qg,{className:"h-3 w-3"}),R.thoughtsLabel]}),C.jsx(ji,{minHeight:"48px",className:"w-full p-3 text-sm text-gray-700 placeholder-indigo-300/60 bg-indigo-50/40 border border-indigo-100 rounded-lg focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-20 transition-all",placeholder:R.thoughtsPlaceholder,value:r,onValueChange:i})]})]}),C.jsx("div",{className:"relative z-50",children:C.jsx(EC,{selectedPersona:E,onSelect:S,disabled:T,language:_})}),C.jsxs("div",{className:"pt-2",children:[C.jsxs(ti,{onClick:pe,isLoading:T,disabled:!n.trim(),fullWidth:!0,className:`h-12 text-base shadow-lg ${p===ne.OPENAI?"bg-purple-600 hover:bg-purple-700 shadow-purple-600/20":"bg-primary-600 hover:bg-primary-700 shadow-primary-600/20"}`,children:[!T&&C.jsx(jg,{className:"mr-2 h-4 w-4"}),T?R.polishing:R.polishButton]}),C.jsx("p",{className:"text-center text-[10px] text-gray-400 mt-2",children:R.proTip})]})]})}),l&&C.jsx("div",{className:"animate-in slide-in-from-bottom-2 fade-in duration-300 pb-10",children:C.jsxs("div",{className:`bg-white rounded-xl shadow-lg border overflow-hidden relative ${p===ne.OPENAI?"border-purple-100":"border-primary-100"}`,children:[C.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${p===ne.OPENAI?"bg-purple-500":"bg-primary-500"}`}),C.jsxs("div",{className:"p-5 md:p-6",children:[C.jsxs("div",{className:"flex justify-between items-start mb-3",children:[C.jsxs("div",{children:[C.jsx("h3",{className:"text-base font-semibold text-gray-900",children:R.polishedResult}),C.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[R.personaLabel,": ",_===we.CHINESE?rn[E].labelZh:rn[E].label,C.jsx("span",{className:"ml-2 px-1.5 py-0.5 rounded text-[10px] bg-gray-100 text-gray-500",children:p===ne.OPENAI?w[ne.OPENAI].model||"DeepSeek-V3":w[ne.GOOGLE].model||"Gemini 3 Flash"})]})]}),C.jsx(ti,{variant:"secondary",onClick:un,className:"shrink-0 h-8 text-xs px-3",title:"Copy to clipboard",children:g?C.jsxs(C.Fragment,{children:[C.jsx(zg,{className:"h-3 w-3 mr-1.5 text-green-600"}),C.jsx("span",{className:"text-green-600",children:R.copied})]}):C.jsxs(C.Fragment,{children:[C.jsx(Jg,{className:"h-3 w-3 mr-1.5"}),R.copy]})})]}),C.jsx("div",{className:"bg-gray-50/80 rounded-lg p-4 border border-gray-100",children:C.jsx("p",{className:"text-gray-800 whitespace-pre-wrap leading-relaxed text-sm md:text-base",children:l})})]})]})})]})]})},ch=document.getElementById("root");if(!ch)throw new Error("Could not find root element to mount to");const _C=es.createRoot(ch);_C.render(C.jsx(Rh.StrictMode,{children:C.jsx(TC,{})}));
